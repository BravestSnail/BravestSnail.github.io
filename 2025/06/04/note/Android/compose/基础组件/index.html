<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>基础组件 | BravestSnail's Blog</title><meta name="author" content="BravestSnail"><meta name="copyright" content="BravestSnail"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="Button默认样式 Button的lambda块中可以传入任意的Composable组件，但一般是放一个Text在里面 123Button(onClick &#x3D; &#123; println(&quot;确认onClick&quot;) &#125;) &#123;   Text(&quot;默认样式&quot;)&#125;   按钮的宽高 如果想要宽一点或高一点的Button，可以通过Modi">
<meta property="og:type" content="article">
<meta property="og:title" content="基础组件">
<meta property="og:url" content="https://bravestsnail.github.io/2025/06/04/note/Android/compose/%E5%9F%BA%E7%A1%80%E7%BB%84%E4%BB%B6/index.html">
<meta property="og:site_name" content="BravestSnail&#39;s Blog">
<meta property="og:description" content="Button默认样式 Button的lambda块中可以传入任意的Composable组件，但一般是放一个Text在里面 123Button(onClick &#x3D; &#123; println(&quot;确认onClick&quot;) &#125;) &#123;   Text(&quot;默认样式&quot;)&#125;   按钮的宽高 如果想要宽一点或高一点的Button，可以通过Modi">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://bravestsnail.github.io/images/avatar.png">
<meta property="article:published_time" content="2025-06-04T12:46:35.125Z">
<meta property="article:modified_time" content="2025-06-04T12:46:35.126Z">
<meta property="article:author" content="BravestSnail">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://bravestsnail.github.io/images/avatar.png"><script type="application/ld+json">{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "基础组件",
  "url": "https://bravestsnail.github.io/2025/06/04/note/Android/compose/%E5%9F%BA%E7%A1%80%E7%BB%84%E4%BB%B6/",
  "image": "https://bravestsnail.github.io/images/avatar.png",
  "datePublished": "2025-06-04T12:46:35.125Z",
  "dateModified": "2025-06-04T12:46:35.126Z",
  "author": [
    {
      "@type": "Person",
      "name": "BravestSnail",
      "url": "https://bravestsnail.github.io/"
    }
  ]
}</script><link rel="shortcut icon" href="/images/favicon.ico"><link rel="canonical" href="https://bravestsnail.github.io/2025/06/04/note/Android/compose/%E5%9F%BA%E7%A1%80%E7%BB%84%E4%BB%B6/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css"><script>
    (() => {
      
    const saveToLocal = {
      set: (key, value, ttl) => {
        if (!ttl) return
        const expiry = Date.now() + ttl * 86400000
        localStorage.setItem(key, JSON.stringify({ value, expiry }))
      },
      get: key => {
        const itemStr = localStorage.getItem(key)
        if (!itemStr) return undefined
        const { value, expiry } = JSON.parse(itemStr)
        if (Date.now() > expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return value
      }
    }

    window.btf = {
      saveToLocal,
      getScript: (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        Object.entries(attr).forEach(([key, val]) => script.setAttribute(key, val))
        script.onload = script.onreadystatechange = () => {
          if (!script.readyState || /loaded|complete/.test(script.readyState)) resolve()
        }
        script.onerror = reject
        document.head.appendChild(script)
      }),
      getCSS: (url, id) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onload = link.onreadystatechange = () => {
          if (!link.readyState || /loaded|complete/.test(link.readyState)) resolve()
        }
        link.onerror = reject
        document.head.appendChild(link)
      }),
      addGlobalFn: (key, fn, name = false, parent = window) => {
        if (!false && key.startsWith('pjax')) return
        const globalFn = parent.globalFn || {}
        globalFn[key] = globalFn[key] || {}
        globalFn[key][name || Object.keys(globalFn[key]).length] = fn
        parent.globalFn = globalFn
      }
    }
  
      
      const activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      const activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }

      btf.activateDarkMode = activateDarkMode
      btf.activateLightMode = activateLightMode

      const theme = saveToLocal.get('theme')
    
          theme === 'dark' ? activateDarkMode() : theme === 'light' ? activateLightMode() : null
        
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        document.documentElement.classList.toggle('hide-aside', asideStatus === 'hide')
      }
    
      
    const detectApple = () => {
      if (/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)) {
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
  
    })()
  </script><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false,"highlightFullpage":false,"highlightMacStyle":false},
  copy: {
    success: '复制成功',
    error: '复制失败',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'null',
  Snackbar: undefined,
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid/dist/infinitegrid.min.js',
    buttonText: '加载更多'
  },
  isPhotoFigcaption: false,
  islazyloadPlugin: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: '基础组件',
  isHighlightShrink: false,
  isToc: true,
  pageType: 'post'
}</script><script src="https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js"></script><script>if(window.mermaid){mermaid.initialize({startOnLoad:true});}</script><meta name="generator" content="Hexo 7.3.0"></head><body><div class="post" id="body-wrap"><header class="post-bg" id="page-header"><nav id="nav"><span id="blog-info"><a class="nav-site-title" href="/"><img class="site-icon" src="/images/favicon.ico" alt="Logo"><span class="site-name">BravestSnail's Blog</span></a><a class="nav-page-title" href="/"><span class="site-name">基础组件</span></a></span><div id="menus"></div></nav><div id="post-info"><h1 class="post-title">基础组件</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2025-06-04T12:46:35.125Z" title="发表于 2025-06-04 20:46:35">2025-06-04</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2025-06-04T12:46:35.126Z" title="更新于 2025-06-04 20:46:35">2025-06-04</time></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title=""><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">浏览量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="container post-content" id="article-container"><h2 id="Button"><a href="#Button" class="headerlink" title="Button"></a>Button</h2><p><strong>默认样式</strong></p>
<p><code>Button</code>的<code>lambda</code>块中可以传入任意的<code>Composable</code>组件，但一般是放一个<code>Text</code>在里面</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Button(onClick = &#123; println(<span class="string">&quot;确认onClick&quot;</span>) &#125;) &#123;</span><br><span class="line">   Text(<span class="string">&quot;默认样式&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://markdown-1305107759.cos.ap-guangzhou.myqcloud.com/277d1ddbf6d8f512bc959b1cafc36c6b.png" alt="在这里插入图片描述"></p>
<p><strong>按钮的宽高</strong></p>
<p>如果想要宽一点或高一点的<code>Button</code>，可以通过<code>Modifier</code>修改宽高，例如在<code>Column</code>中可以通过<code>Modifier.fillMaxWidth()</code>指定占满父控件，此外还可以通过 <code>shape</code> 参数修改<code>Button</code>的圆角弧度</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">Column(horizontalAlignment = Alignment.CenterHorizontally) &#123;</span><br><span class="line">    Button(</span><br><span class="line">        onClick = &#123; println(<span class="string">&quot;确认onClick&quot;</span>) &#125;,</span><br><span class="line">        modifier = Modifier.fillMaxWidth().padding(all = <span class="number">5.</span>dp),</span><br><span class="line">        shape = RoundedCornerShape(<span class="number">15.</span>dp)</span><br><span class="line">    ) &#123;</span><br><span class="line">        Text(<span class="string">&quot;指定圆角弧度&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://markdown-1305107759.cos.ap-guangzhou.myqcloud.com/608e3a6393414902f0d2b4cb9e470cf1.png" alt="在这里插入图片描述"></p>
<p><strong>按钮的边框</strong></p>
<p>通过 <code>Button</code> 的 <code>border</code> 参数指定按钮的边框</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Button(</span><br><span class="line">     onClick = &#123; println(<span class="string">&quot;click the button&quot;</span>) &#125;,</span><br><span class="line">     border = BorderStroke(<span class="number">1.</span>dp, Color.Red)</span><br><span class="line"> ) &#123;</span><br><span class="line">     Text(text = <span class="string">&quot;按钮的边框&quot;</span>)</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://markdown-1305107759.cos.ap-guangzhou.myqcloud.com/c5bbb0e66c8640a3ab8a65bfe889a43d.png" alt="在这里插入图片描述"></p>
<p><strong>按钮的禁用状态</strong></p>
<p>通过 <code>Button</code> 的 <code>enabled</code> 参数指定按钮的禁用状态</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Button(</span><br><span class="line">   onClick = &#123; println(<span class="string">&quot;click the button&quot;</span>) &#125;,</span><br><span class="line">   enabled = <span class="literal">false</span></span><br><span class="line">) &#123;</span><br><span class="line">    Text(text = <span class="string">&quot;禁用的按钮&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://markdown-1305107759.cos.ap-guangzhou.myqcloud.com/2444c7d96b97d0d871f929a65c99029e.png" alt="在这里插入图片描述"></p>
<p><strong>按钮的内容</strong></p>
<p>由于<code>Button</code>的内部使用的是一个<code>Row</code>组件来包装的，因此<code>lambda</code>块中实际上可以传入多个<code>Composable</code>组件，它们会按照水平行排列</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">Button(onClick = &#123; println(<span class="string">&quot;喜欢onClick&quot;</span>) &#125;) &#123;</span><br><span class="line">    Icon(</span><br><span class="line">        <span class="comment">// Material 库中的图标，Icons.Filled下面有很多自带的图标</span></span><br><span class="line">        Icons.Filled.Favorite,</span><br><span class="line">        contentDescription = <span class="literal">null</span>,</span><br><span class="line">        modifier = Modifier.size(ButtonDefaults.IconSize)</span><br><span class="line">    ) </span><br><span class="line">    Spacer(Modifier.size(ButtonDefaults.IconSpacing))</span><br><span class="line">    Text(<span class="string">&quot;喜欢&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://markdown-1305107759.cos.ap-guangzhou.myqcloud.com/5bf76b7f1ce8433005b0adfa40078e26.png" alt="在这里插入图片描述"></p>
<p><strong>自定义按钮按下状态的背景</strong></p>
<p>可以通过 <code>interactionSource</code> 参数指定一个 <code>MutableInteractionSource</code> 对象，可以 <code>remember</code> 该对象，然后通过该对象的<code>collectIsPressedAsState()</code>方法来收集按钮的交互状态，然后根据状态值创建不同的背景或文字颜色</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 创建 Data class 来记录不同状态下按钮的样式</span></span><br><span class="line"><span class="keyword">data</span> <span class="keyword">class</span> <span class="title class_">ButtonState</span>(<span class="keyword">var</span> text: String, <span class="keyword">var</span> textColor: Color, <span class="keyword">var</span> buttonColor: Color)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 获取按钮的状态</span></span><br><span class="line"><span class="keyword">val</span> interactionState = remember &#123; MutableInteractionSource() &#125;</span><br><span class="line"><span class="keyword">val</span> pressState = interactionState.collectIsPressedAsState()</span><br><span class="line"><span class="comment">// 使用 Kotlin 的解构方法</span></span><br><span class="line"><span class="keyword">val</span> (text, textColor, buttonColor) = <span class="keyword">when</span> &#123;</span><br><span class="line">    pressState.value -&gt; ButtonState(<span class="string">&quot;按下状态&quot;</span>, Color.Red, Color.Black)</span><br><span class="line">    <span class="keyword">else</span> -&gt; ButtonState( <span class="string">&quot;正常状态&quot;</span>, Color.White, Color.Red)</span><br><span class="line">&#125;</span><br><span class="line">Button(</span><br><span class="line">    onClick = &#123; println(<span class="string">&quot; onClick&quot;</span>) &#125;,</span><br><span class="line">    interactionSource = interactionState,</span><br><span class="line">    elevation = <span class="literal">null</span>,</span><br><span class="line">    shape = RoundedCornerShape(<span class="number">50</span>),</span><br><span class="line">    colors = ButtonDefaults.buttonColors(backgroundColor = buttonColor, contentColor = textColor),</span><br><span class="line">    modifier = Modifier</span><br><span class="line">        .width(<span class="number">200.</span>dp)</span><br><span class="line">        .height(IntrinsicSize.Min)</span><br><span class="line">) &#123;</span><br><span class="line">    Text(text = text, fontSize = <span class="number">16.</span>sp)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://markdown-1305107759.cos.ap-guangzhou.myqcloud.com/b5daa6d4bfa1232a9ea2f2032933c790.gif" alt="在这里插入图片描述"></p>
<p><strong>文本按钮</strong></p>
<p>正常状态下就是一个文字，但是可以点击，点击的时候有ripple效果</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">TextButton(onClick = &#123; println(<span class="string">&quot;click the TextButton&quot;</span>) &#125;,) &#123;</span><br><span class="line">    Text(text = <span class="string">&quot;文本按钮&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://markdown-1305107759.cos.ap-guangzhou.myqcloud.com/b923156e8dc9bccaf57730829fe3ce08.gif" alt="在这里插入图片描述"></p>
<p><strong>边框按钮</strong></p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">OutlinedButton(onClick = &#123; println(<span class="string">&quot;click the OutlinedButton&quot;</span>) &#125;) &#123;</span><br><span class="line">    Text(text = <span class="string">&quot;边框按钮&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://markdown-1305107759.cos.ap-guangzhou.myqcloud.com/b00eee081606d7204a25838f28427f14.gif" alt="在这里插入图片描述"></p>
<p><strong>图标按钮</strong></p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">Row &#123;</span><br><span class="line">   IconButton(onClick = &#123; println(<span class="string">&quot;click the Add&quot;</span>)&#125;) &#123;</span><br><span class="line">        Icon(imageVector = Icons.Default.Add, contentDescription = <span class="literal">null</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    IconButton(onClick = &#123; println(<span class="string">&quot;click the Search&quot;</span>)&#125;) &#123;</span><br><span class="line">        Icon(imageVector = Icons.Default.Search, contentDescription = <span class="literal">null</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    IconButton(onClick = &#123; println(<span class="string">&quot;click the ArrowBack&quot;</span>)&#125;) &#123;</span><br><span class="line">        Icon(imageVector = Icons.Default.ArrowBack, contentDescription = <span class="literal">null</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    IconButton(onClick = &#123; println(<span class="string">&quot;click the Done&quot;</span>)&#125;) &#123;</span><br><span class="line">        Icon(imageVector = Icons.Default.Done, contentDescription = <span class="literal">null</span>)</span><br><span class="line">    &#125; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://markdown-1305107759.cos.ap-guangzhou.myqcloud.com/e4515146f982da09955c0f68386b6c4d.gif" alt="在这里插入图片描述"></p>
<p><strong>取消IconButton的波纹</strong></p>
<p><code>IconButton</code> 的源码中其实将 <code>Box</code> 里的 <code>Modifier.clickable</code> 的<code>Indication</code> 参数设置成波纹了，我们只需要复制源码的代码添加到自己的项目中，并且将 <code>indication</code> 设置为 <code>null</code> 就好了</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Composable</span></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">IconButtonWithNoRipple</span><span class="params">(</span></span></span><br><span class="line"><span class="params"><span class="function">    onClick: () -&gt; <span class="type">Unit</span>,</span></span></span><br><span class="line"><span class="params"><span class="function">    modifier: <span class="type">Modifier</span> = Modifier,</span></span></span><br><span class="line"><span class="params"><span class="function">    enabled: <span class="type">Boolean</span> = <span class="literal">true</span>,</span></span></span><br><span class="line"><span class="params"><span class="function">    interactionSource: <span class="type">MutableInteractionSource</span> = remember &#123; MutableInteractionSource()</span></span> &#125;,</span><br><span class="line">    content: <span class="meta">@Composable</span> () -&gt; <span class="built_in">Unit</span></span><br><span class="line">) &#123;</span><br><span class="line">    Box(</span><br><span class="line">        modifier =</span><br><span class="line">        modifier</span><br><span class="line">            .size(<span class="number">48.</span>dp)</span><br><span class="line">            .clickable(</span><br><span class="line">                onClick = onClick,</span><br><span class="line">                enabled = enabled,</span><br><span class="line">                role = Role.Button,</span><br><span class="line">                interactionSource = interactionSource,</span><br><span class="line">                indication = <span class="literal">null</span></span><br><span class="line">            ),</span><br><span class="line">        contentAlignment = Alignment.Center</span><br><span class="line">    ) &#123;</span><br><span class="line">        content()</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>使用：</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> myColor <span class="keyword">by</span> remember &#123; mutableStateOf(Color.Gray) &#125;</span><br><span class="line"><span class="keyword">var</span> flg <span class="keyword">by</span> remember &#123; mutableStateOf(<span class="literal">false</span>) &#125;</span><br><span class="line">IconButtonWithNoRipple(onClick = &#123;</span><br><span class="line">    flg = !flg</span><br><span class="line">    myColor = <span class="keyword">if</span> (flg) Color.Red <span class="keyword">else</span> Color.Gray</span><br><span class="line">&#125;) &#123;</span><br><span class="line">    Icon(imageVector = Icons.Default.Favorite, contentDescription = <span class="literal">null</span>, tint = myColor)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://markdown-1305107759.cos.ap-guangzhou.myqcloud.com/c4356346999d91a13ddca5115b58973f.gif" alt="在这里插入图片描述"></p>
<p><strong>FloatingActionButton</strong></p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">FloatingActionButton(</span><br><span class="line">	onClick = &#123; println(<span class="string">&quot;click the FloatingActionButton&quot;</span>) &#125;,</span><br><span class="line">    shape = CircleShape</span><br><span class="line">) &#123;</span><br><span class="line">    Icon(Icons.Filled.Add, contentDescription = <span class="string">&quot;Add&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line">ExtendedFloatingActionButton(</span><br><span class="line">    icon = &#123; Icon(Icons.Filled.Favorite, contentDescription = <span class="literal">null</span>) &#125;,</span><br><span class="line">    text = &#123; Text(<span class="string">&quot;添加到我喜欢的&quot;</span>) &#125;,</span><br><span class="line">    onClick = &#123; println(<span class="string">&quot;click the ExtendedFloatingActionButton&quot;</span>) &#125;,</span><br><span class="line">    shape = RoundedCornerShape(<span class="number">5.</span>dp)</span><br><span class="line">)</span><br></pre></td></tr></table></figure>

<p><img src="https://markdown-1305107759.cos.ap-guangzhou.myqcloud.com/050e3d1fd1c52cbca95a7919f75e3d40.png" alt="在这里插入图片描述"></p>
<p><strong>ElevatedButton</strong></p>
<p>注意，这个是在 <code>androidx.compose.material3</code> 包中。可以通过 <code>elevation</code> 参数指定按钮的高度效果</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">ElevatedButton(</span><br><span class="line"> onClick = &#123;   &#125;,</span><br><span class="line">    elevation = ButtonDefaults.buttonElevation(defaultElevation = <span class="number">5.</span>dp, pressedElevation = <span class="number">10.</span>dp)</span><br><span class="line">) &#123;</span><br><span class="line">    Text(text = <span class="string">&quot;ElevatedButton&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://markdown-1305107759.cos.ap-guangzhou.myqcloud.com/b0510bcbd01eab8f094309fd3cc1944e.gif" alt="在这里插入图片描述"><br>也可以不指定 <code>elevation</code> ，它有默认值，默认效果如下<br><img src="https://markdown-1305107759.cos.ap-guangzhou.myqcloud.com/2568836eb6c769c3b20e6c7be10a02e9.png" alt="在这里插入图片描述"></p>
<h2 id="Divider"><a href="#Divider" class="headerlink" title="Divider"></a>Divider</h2><p><code>Divider</code> 是一个分割线，可以指定颜色、厚度等。</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Composable</span></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">DividerExample</span><span class="params">()</span></span> &#123;</span><br><span class="line">    Column &#123;</span><br><span class="line">        Text(<span class="string">&quot;11111111111&quot;</span>)</span><br><span class="line">        Divider()</span><br><span class="line">        Text(<span class="string">&quot;2222222222222&quot;</span>)</span><br><span class="line">        Divider(color = Color.Blue, thickness = <span class="number">2.</span>dp)</span><br><span class="line">        Text(<span class="string">&quot;33333333333&quot;</span>)</span><br><span class="line">        Text(<span class="string">&quot;4444444444&quot;</span>)</span><br><span class="line">        androidx.compose.material.Divider(color = Color.Red, thickness = <span class="number">10.</span>dp, startIndent = <span class="number">10.</span>dp)</span><br><span class="line">        Text(<span class="string">&quot;66666666666666666&quot;</span>)</span><br><span class="line">        Divider(color = Color.Blue, modifier = Modifier.padding(horizontal = <span class="number">15.</span>dp))</span><br><span class="line">        Text(<span class="string">&quot;888888888888888888&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://markdown-1305107759.cos.ap-guangzhou.myqcloud.com/b8741d94d277b920f12c0fe04d6fd62a.png" alt="在这里插入图片描述"></p>
<h2 id="Icon"><a href="#Icon" class="headerlink" title="Icon"></a>Icon</h2><p><code>Icon</code> 的主要参数：</p>
<ul>
<li><code>ImageVector</code>：矢量图对象，可以显示 SVG 格式的图标</li>
<li><code>ImageBitmap</code>：位图对象，可以显示 JPG，PNG 等格式的图标</li>
<li><code>tint</code>：图标的颜色</li>
<li><code>Painter</code>：代表一个自定义画笔，可以使用画笔在 <code>Canvas</code> 上直接绘制图标 我们除了直接传入具体类型的实例，也可以通过 <code>res/</code> 下的图片资源来设置图标</li>
</ul>
<p><code>ImageVector</code> 和 <code>ImageBitmap</code> 都提供了对应的加载 <code>Drawable</code> 资源的方法， <code>vectorResource</code> 用来加载一个<a target="_blank" rel="noopener" href="https://so.csdn.net/so/search?q=%E7%9F%A2%E9%87%8F&spm=1001.2101.3001.7020">矢量</a> <code>XML</code>，<code>imageResource</code> 用来加载 <code>jpg</code> 或者 <code>png</code> 图片。 <code>painterResource</code> 对以上两种类型的 <code>Drawable</code> 都支持，内部会根据资源的不同类型创作对应的画笔进行图标的绘制。</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">Icon(</span><br><span class="line"> 	imageVector = Icons.Filled.Favorite,</span><br><span class="line">    contentDescription = <span class="literal">null</span>,</span><br><span class="line">    tint = Color.Red</span><br><span class="line">)</span><br><span class="line">Icon(</span><br><span class="line">    imageVector = ImageVector.vectorResource(id = R.drawable.ic_launcher_foreground),</span><br><span class="line">    contentDescription = <span class="string">&quot;矢量图资源&quot;</span>,</span><br><span class="line">    tint = Color.Blue</span><br><span class="line">)</span><br></pre></td></tr></table></figure>

<p><img src="https://markdown-1305107759.cos.ap-guangzhou.myqcloud.com/170f3695655f2ff5c8f73633e33ace9d.png" alt="在这里插入图片描述"></p>
<p><code>Icon</code>加载资源图片显示黑色没有加载出图片？</p>
<ul>
<li>别慌，因为默认的<code>tint</code>模式是<code>LocalContentColor.current</code>，我们需要去掉它默认的着色模式，将<code>tint</code>的属性设置为<code>Color.Unspecified</code></li>
</ul>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Icon(</span><br><span class="line">   bitmap = ImageBitmap.imageResource(id = R.drawable.ic_head3),</span><br><span class="line">   contentDescription = <span class="string">&quot;图片资源&quot;</span>,</span><br><span class="line">   tint = Color.Unspecified,</span><br><span class="line">   modifier = Modifier.size(<span class="number">100.</span>dp).clip(CircleShape),</span><br><span class="line">)</span><br></pre></td></tr></table></figure>

<p><code>Icon</code>支持任意类型的图片资源，完全可以当做一个图片组件来使用</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">Icon(</span><br><span class="line">     painter = painterResource(id = R.drawable.ic_head),</span><br><span class="line">     contentDescription = <span class="string">&quot;任意类型资源&quot;</span>,</span><br><span class="line">     tint = Color.Unspecified,</span><br><span class="line">     modifier = Modifier.size(<span class="number">100.</span>dp)</span><br><span class="line">         .clip(CircleShape)</span><br><span class="line">         .border(<span class="number">1.</span>dp, MaterialTheme.colorScheme.primary, CircleShape),</span><br><span class="line"> )</span><br></pre></td></tr></table></figure>

<p><img src="https://markdown-1305107759.cos.ap-guangzhou.myqcloud.com/5673e3635550617be351ac13b783179e.png" alt="在这里插入图片描述"></p>
<h2 id="Image"><a href="#Image" class="headerlink" title="Image"></a>Image</h2><p><code>Image</code> 组件加载本地资源图片时，跟 <code>Icon</code>的使用类似，通过 <code>painter</code> 参数指定 <code>painterResource</code> 来加载 <code>R.drawable</code> 资源图片</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Composable</span></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">ImageExample</span><span class="params">()</span></span> &#123;</span><br><span class="line">     Column(modifier = Modifier.padding(<span class="number">10.</span>dp))&#123;</span><br><span class="line">         Row&#123;</span><br><span class="line">             Image(</span><br><span class="line">                 painter = painterResource(id = R.drawable.ic_sky),</span><br><span class="line">                 contentDescription = <span class="literal">null</span>,</span><br><span class="line">                 modifier = Modifier.size(<span class="number">100.</span>dp),</span><br><span class="line">             )</span><br><span class="line">             Surface(</span><br><span class="line">                 shape = CircleShape,</span><br><span class="line">                 border = BorderStroke(<span class="number">5.</span>dp, Color.Red)</span><br><span class="line">             ) &#123;</span><br><span class="line">                 Image(</span><br><span class="line">                     painter = painterResource(id = R.drawable.ic_sky),</span><br><span class="line">                     contentDescription = <span class="literal">null</span>,</span><br><span class="line">                     modifier = Modifier.size(<span class="number">100.</span>dp),</span><br><span class="line">                     contentScale = ContentScale.Crop</span><br><span class="line">                 )</span><br><span class="line">             &#125;</span><br><span class="line">             Image(</span><br><span class="line">                 painter = painterResource(id = R.drawable.ic_sky),</span><br><span class="line">                 contentDescription = <span class="literal">null</span>,</span><br><span class="line">                 modifier = Modifier</span><br><span class="line">                     .size(<span class="number">100.</span>dp)</span><br><span class="line">                     .clip(CircleShape),</span><br><span class="line">                 contentScale = ContentScale.Crop,</span><br><span class="line">             )</span><br><span class="line">             Image(</span><br><span class="line">                 painter = painterResource(id = R.drawable.ic_sky),</span><br><span class="line">                 contentDescription = <span class="literal">null</span>,</span><br><span class="line">                 modifier = Modifier.size(<span class="number">80.</span>dp),</span><br><span class="line">                 colorFilter = ColorFilter.tint(Color.Red, blendMode = BlendMode.Color)</span><br><span class="line">             )</span><br><span class="line">         &#125;</span><br><span class="line">     &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://markdown-1305107759.cos.ap-guangzhou.myqcloud.com/7c2c4475d85b13dd48cc69e892af8f1e.png" alt="在这里插入图片描述"><br>其中，<code>contentScale</code> 参数是图片缩放类型，取值在 <code>ContentScale</code> 伴生对象中，含义参考 Android 原生 <code>ImageView</code> 的<code>scaleType</code>缩放类型，差不多类似的。</p>
<p>另外设置圆形图片有两种方式，如上面代码中，一种是使用 <code>Surface</code> 组件包装起来，然后指定 <code>Surface</code> 的 <code>shape</code> 为 <code>CircleShape</code>，另一种是使用 <code>Modifier.clip(CircleShape)</code> 直接作用于 <code>Image</code>组件。不过这两种方式都要设置宽高为固定相等的值，否则不是正圆。</p>
<p>有时设置成圆形时，图片的上下被剪裁了，</p>
<p><img src="https://markdown-1305107759.cos.ap-guangzhou.myqcloud.com/c83f0030783a964312492db91caf52bc.png" alt="在这里插入图片描述"></p>
<p>这是因为 <code>Image</code> 中源码的 <code>contentScale</code> 参数默认是 <code>ContentScale.Fit</code>，也就是保持图片的宽高比，缩小到可以完整显示整张图片。 而 <code>ContentScale.Crop</code> 也是保持宽高比，但是尽量让宽度或者高度完整的占满。 所以我们将 <code>contentScale</code> 设置成 <code>ContentScale.Crop</code>即可解决此问题。</p>
<p>Compose 自带的 <code>Image</code> 只能加载资源管理器中的图片文件，如果想加载网络图片或者是其他本地路径下的文件， 可以使用 <code>Coil</code> 加载网络图片: <a target="_blank" rel="noopener" href="https://coil-kt.github.io/coil/compose/">https://coil-kt.github.io/coil/compose/</a></p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Composable</span></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">CoilImageLoaderExample</span><span class="params">()</span></span> &#123;</span><br><span class="line">    Row &#123;</span><br><span class="line">        Image(</span><br><span class="line">            painter = rememberAsyncImagePainter(<span class="string">&quot;https://picsum.photos/300/300&quot;</span>),</span><br><span class="line">            contentDescription = <span class="literal">null</span></span><br><span class="line">        )</span><br><span class="line">        AsyncImage(</span><br><span class="line">            model = <span class="string">&quot;https://picsum.photos/300/300&quot;</span>,</span><br><span class="line">            contentDescription = <span class="literal">null</span></span><br><span class="line">        )</span><br><span class="line">        AsyncImage(</span><br><span class="line">            model = ImageRequest.Builder(LocalContext.current)</span><br><span class="line">                .<span class="keyword">data</span>(<span class="string">&quot;https://picsum.photos/300/300&quot;</span>)</span><br><span class="line">                .crossfade(<span class="literal">true</span>)</span><br><span class="line">                .build(),</span><br><span class="line">            placeholder = painterResource(R.drawable.ic_launcher_background),</span><br><span class="line">            contentDescription = <span class="literal">null</span>,</span><br><span class="line">            contentScale = ContentScale.Crop,</span><br><span class="line">            <span class="comment">// error = painterResource(),</span></span><br><span class="line">            onSuccess = &#123; success -&gt;</span><br><span class="line"></span><br><span class="line">            &#125;,</span><br><span class="line">            onError = &#123; error -&gt;</span><br><span class="line"></span><br><span class="line">            &#125;,</span><br><span class="line">            onLoading = &#123; loading -&gt;</span><br><span class="line"></span><br><span class="line">            &#125;,</span><br><span class="line">            modifier = Modifier.clip(CircleShape)</span><br><span class="line">        )</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>SubcomposeAsyncImage</strong></p>
<p><code>SubcomposeAsyncImage</code>会根据组件的约束空间来确定图片的最终大小，这说明在图片装载前，需要预先获取<code>SubcomposeAsyncImage</code>的约束信息, 而<code>Subcomposelayout</code>可以在子组件合成前，获取到父组件的约束信息或其他组件的约束信息。<code>SubcomposeAsyncImage</code>就是<br>依靠<code>Subcomposelayout</code>的能力来实现的，子组件就是我们传入的<code>content</code>内容，它会在<code>SubcomposeAsyncImage</code>组件测量时进行组合。</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Composable</span></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">CoilImageLoaderExample2</span><span class="params">()</span></span> &#123;</span><br><span class="line">    Column(horizontalAlignment = Alignment.CenterHorizontally) &#123;</span><br><span class="line">        SubcomposeAsyncImage(</span><br><span class="line">            model = <span class="string">&quot;https://picsum.photos/350/350&quot;</span> ,</span><br><span class="line">            loading = &#123; CircularProgressIndicator() &#125;,</span><br><span class="line">            contentDescription = <span class="literal">null</span>,</span><br><span class="line">            modifier = Modifier.size(<span class="number">200.</span>dp)</span><br><span class="line">        )</span><br><span class="line">        SubcomposeAsyncImage(</span><br><span class="line">            model = <span class="string">&quot;https://picsum.photos/400/400&quot;</span> ,</span><br><span class="line">            contentDescription = <span class="literal">null</span>,</span><br><span class="line">            modifier = Modifier.size(<span class="number">200.</span>dp)</span><br><span class="line">        ) &#123;</span><br><span class="line">            <span class="keyword">val</span> state = painter.state</span><br><span class="line">            <span class="keyword">when</span>(state) &#123;</span><br><span class="line">                <span class="keyword">is</span> AsyncImagePainter.State.Loading -&gt; CircularProgressIndicator()</span><br><span class="line">                <span class="keyword">is</span> AsyncImagePainter.State.Error -&gt; Text(<span class="string">&quot;<span class="subst">$&#123;state.result.throwable&#125;</span>&quot;</span>)</span><br><span class="line">                <span class="keyword">is</span> AsyncImagePainter.State.Success -&gt; SubcomposeAsyncImageContent()</span><br><span class="line">                <span class="keyword">is</span> AsyncImagePainter.State.Empty -&gt; Text(<span class="string">&quot;Empty&quot;</span>)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// 如果指定了图片加载到内存时的尺寸大小，那么在加载时就不会获取组件的约束信息</span></span><br><span class="line">        SubcomposeAsyncImage(</span><br><span class="line">            model = ImageRequest.Builder(LocalContext.current)</span><br><span class="line">                .<span class="keyword">data</span>(<span class="string">&quot;https://picsum.photos/800/600&quot;</span>)</span><br><span class="line">                .size(<span class="number">800</span>, <span class="number">600</span>)</span><br><span class="line">                .crossfade(<span class="literal">true</span>)</span><br><span class="line">                .build(),</span><br><span class="line">            contentDescription = <span class="literal">null</span>,</span><br><span class="line">        ) &#123;</span><br><span class="line">            <span class="keyword">val</span> state = painter.state</span><br><span class="line">            <span class="keyword">when</span>(state) &#123;</span><br><span class="line">                <span class="keyword">is</span> AsyncImagePainter.State.Loading -&gt; CircularProgressIndicator()</span><br><span class="line">                <span class="keyword">is</span> AsyncImagePainter.State.Error -&gt; Text(<span class="string">&quot;<span class="subst">$&#123;state.result.throwable&#125;</span>&quot;</span>)</span><br><span class="line">                <span class="keyword">is</span> AsyncImagePainter.State.Success -&gt; SubcomposeAsyncImageContent()</span><br><span class="line">                <span class="keyword">is</span> AsyncImagePainter.State.Empty -&gt; Text(<span class="string">&quot;Empty&quot;</span>)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>Coil加载网络svg图片</strong></p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Composable</span></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">CoilSVGExample</span><span class="params">()</span></span> &#123;</span><br><span class="line">    Row &#123;</span><br><span class="line">        <span class="comment">// 加载网络svg</span></span><br><span class="line">        <span class="keyword">val</span> context = LocalContext.current</span><br><span class="line">        <span class="keyword">val</span> imageLoader = ImageLoader.Builder(context)</span><br><span class="line">            .components &#123; add(SvgDecoder.Factory()) &#125;</span><br><span class="line">            .build()</span><br><span class="line">        Image(</span><br><span class="line">            painter = rememberAsyncImagePainter (</span><br><span class="line">                <span class="string">&quot;https://coil-kt.github.io/coil/images/coil_logo_black.svg&quot;</span>,</span><br><span class="line">                imageLoader = imageLoader</span><br><span class="line">            ),</span><br><span class="line">            contentDescription = <span class="literal">null</span>,</span><br><span class="line">            modifier = Modifier.size(<span class="number">100.</span>dp)</span><br><span class="line">        )</span><br><span class="line">        <span class="comment">// svg放大和缩小使用Coil有问题，不是矢量图，可以使用Landscapist：https://github.com/skydoves/Landscapist</span></span><br><span class="line">        <span class="keyword">var</span> flag <span class="keyword">by</span> remember &#123; mutableStateOf(<span class="literal">false</span>) &#125;</span><br><span class="line">        <span class="keyword">val</span> size <span class="keyword">by</span> animateDpAsState(targetValue = <span class="keyword">if</span>(flag) <span class="number">300.</span>dp <span class="keyword">else</span> <span class="number">100.</span>dp)</span><br><span class="line">        CoilImage(</span><br><span class="line">            imageModel = &#123; <span class="string">&quot;https://coil-kt.github.io/coil/images/coil_logo_black.svg&quot;</span> &#125;,</span><br><span class="line">            imageOptions = ImageOptions(</span><br><span class="line">                contentScale = ContentScale.Crop,</span><br><span class="line">                alignment = Alignment.Center</span><br><span class="line">            ),</span><br><span class="line">            modifier = Modifier</span><br><span class="line">                .size(size)</span><br><span class="line">                .clickable(</span><br><span class="line">                    onClick = &#123; flag = !flag &#125;,</span><br><span class="line">                    indication = <span class="literal">null</span>,</span><br><span class="line">                    interactionSource = MutableInteractionSource()</span><br><span class="line">                ),</span><br><span class="line">            imageLoader = &#123; imageLoader &#125;</span><br><span class="line">        )</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="ProgressIndicator"><a href="#ProgressIndicator" class="headerlink" title="ProgressIndicator"></a>ProgressIndicator</h2><p><code>ProgressIndicator</code> 进度条在Compose中也分为两种，水平<code>LinearProgressIndicator</code>和圆形<code>CircularProgressIndicator</code>，如果不指定进度值，就是无限动画的进度条。</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Composable</span></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">ProgressIndicatorExample</span><span class="params">()</span></span> &#123;</span><br><span class="line">    Column(horizontalAlignment = Alignment.CenterHorizontally) &#123;</span><br><span class="line">        CircularProgressIndicator(</span><br><span class="line">            Modifier.size(<span class="number">100.</span>dp),</span><br><span class="line">            color = Color.Red,</span><br><span class="line">            strokeWidth = <span class="number">5.</span>dp</span><br><span class="line">        )</span><br><span class="line">        <span class="keyword">var</span> progress <span class="keyword">by</span> remember &#123; mutableStateOf(<span class="number">0.5f</span>) &#125;</span><br><span class="line">        Button(onClick = &#123; progress += <span class="number">0.1f</span> &#125;) &#123; Text(text = <span class="string">&quot;进度&quot;</span>) &#125;</span><br><span class="line">        CircularProgressIndicator(</span><br><span class="line">            modifier = Modifier.size(<span class="number">100.</span>dp),</span><br><span class="line">            progress = progress,</span><br><span class="line">            strokeWidth = <span class="number">5.</span>dp,</span><br><span class="line">            color = Color.Blue,</span><br><span class="line">        )</span><br><span class="line">        Spacer(modifier = Modifier.height(<span class="number">20.</span>dp))</span><br><span class="line">        LinearProgressIndicator(</span><br><span class="line">            color = Color.Red,</span><br><span class="line">            trackColor = Color.Green,</span><br><span class="line">        )</span><br><span class="line">        Spacer(modifier = Modifier.height(<span class="number">20.</span>dp))</span><br><span class="line">        LinearProgressIndicator(</span><br><span class="line">            progress = progress,</span><br><span class="line">            modifier = Modifier</span><br><span class="line">                .width(<span class="number">300.</span>dp)</span><br><span class="line">                .height(<span class="number">10.</span>dp)</span><br><span class="line">                .clip(RoundedCornerShape(<span class="number">5.</span>dp)),</span><br><span class="line">        )</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://markdown-1305107759.cos.ap-guangzhou.myqcloud.com/fe238f475bb3438b541b046cfdedf148.gif" alt="在这里插入图片描述"></p>
<h2 id="Slider"><a href="#Slider" class="headerlink" title="Slider"></a>Slider</h2><p><code>Slider</code> 相当于Android 原来的 <code>SeekBar</code></p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Composable</span></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">SliderExample</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="keyword">var</span> progress <span class="keyword">by</span> remember&#123; mutableStateOf(<span class="number">0f</span>)&#125;</span><br><span class="line">    Column(modifier = Modifier.padding(<span class="number">15.</span>dp)) &#123;</span><br><span class="line">        Text(<span class="string">&quot;<span class="subst">$&#123;<span class="string">&quot;%.1f&quot;</span>.format(progress * <span class="number">100</span>)&#125;</span>%&quot;</span>)</span><br><span class="line">        Slider(</span><br><span class="line">            value = progress,</span><br><span class="line">            onValueChange = &#123; progress = it &#125;,</span><br><span class="line">        )</span><br><span class="line">        Slider(</span><br><span class="line">            value = progress,</span><br><span class="line">            colors = SliderDefaults.colors(</span><br><span class="line">                thumbColor = Color.Magenta, <span class="comment">// 圆圈的颜色</span></span><br><span class="line">                activeTrackColor = Color.Blue, <span class="comment">// 滑条经过的部分的颜色</span></span><br><span class="line">                inactiveTrackColor = Color.LightGray <span class="comment">// 滑条未经过的部分的颜色</span></span><br><span class="line">            ),</span><br><span class="line">            onValueChange = &#123;</span><br><span class="line">                progress = it</span><br><span class="line">                println(it)</span><br><span class="line">            &#125;,</span><br><span class="line">        )</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://markdown-1305107759.cos.ap-guangzhou.myqcloud.com/c962f23b0e049e72613016a45effbd8f.gif" alt="在这里插入图片描述"></p>
<h2 id="RangeSlider"><a href="#RangeSlider" class="headerlink" title="RangeSlider"></a>RangeSlider</h2><p>范围选择的SeekBar 目前还是实验性的 API</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@OptIn(ExperimentalMaterialApi::class)</span></span><br><span class="line"><span class="meta">@Composable</span></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">SliderExample2</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="comment">//注意此时值是一个范围</span></span><br><span class="line">    <span class="keyword">var</span> values <span class="keyword">by</span> remember &#123; mutableStateOf(<span class="number">5f</span>.<span class="number">.30f</span>) &#125;</span><br><span class="line">    RangeSlider(</span><br><span class="line">        value = values,</span><br><span class="line">        onValueChange = &#123;</span><br><span class="line">            values = it</span><br><span class="line">            println(it.toString())</span><br><span class="line">        &#125;,</span><br><span class="line">        valueRange = <span class="number">0f</span>.<span class="number">.100f</span>,</span><br><span class="line">        steps = <span class="number">3</span></span><br><span class="line">    )</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://markdown-1305107759.cos.ap-guangzhou.myqcloud.com/f828c9778a7a2d7555480e7a95b0c667.gif" alt="在这里插入图片描述"></p>
<h2 id="Spacer"><a href="#Spacer" class="headerlink" title="Spacer"></a>Spacer</h2><p>一个占位组件</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Composable</span></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">SpacerExample</span><span class="params">()</span></span> &#123;</span><br><span class="line">    Column &#123;</span><br><span class="line">        Row &#123;</span><br><span class="line">            MyText(<span class="string">&quot;First&quot;</span>, Color.Blue)</span><br><span class="line"></span><br><span class="line">            Spacer(Modifier.weight(<span class="number">1f</span>))</span><br><span class="line"></span><br><span class="line">            MyText(<span class="string">&quot;Second&quot;</span>, Color.Blue)</span><br><span class="line"></span><br><span class="line">            Spacer(Modifier.weight(<span class="number">1f</span>))</span><br><span class="line"></span><br><span class="line">            MyText(<span class="string">&quot;Three&quot;</span>, Color.Blue)</span><br><span class="line">        &#125;</span><br><span class="line">        Row &#123;</span><br><span class="line">            MyText(<span class="string">&quot;First&quot;</span>, Color.Red)</span><br><span class="line"></span><br><span class="line">            Spacer(Modifier.width(<span class="number">10.</span>dp))</span><br><span class="line"></span><br><span class="line">            MyText(<span class="string">&quot;Second&quot;</span>, Color.Red)</span><br><span class="line"></span><br><span class="line">            Spacer(Modifier.width(<span class="number">10.</span>dp))</span><br><span class="line"></span><br><span class="line">            MyText(<span class="string">&quot;Three&quot;</span>, Color.Red)</span><br><span class="line">        &#125;</span><br><span class="line">        Row &#123;</span><br><span class="line">            MyText(<span class="string">&quot;First&quot;</span>, Color.Blue)</span><br><span class="line"></span><br><span class="line">            Spacer(Modifier.weight(<span class="number">1f</span>))</span><br><span class="line"></span><br><span class="line">            MyText(<span class="string">&quot;Second&quot;</span>, Color.Blue)</span><br><span class="line"></span><br><span class="line">            Spacer(Modifier.weight(<span class="number">2f</span>))</span><br><span class="line"></span><br><span class="line">            MyText(<span class="string">&quot;Three&quot;</span>, Color.Blue)</span><br><span class="line">        &#125;</span><br><span class="line">        Spacer(Modifier.height(<span class="number">50.</span>dp))</span><br><span class="line"></span><br><span class="line">        MyText(<span class="string">&quot;Column Item 0&quot;</span>, Color.Blue)</span><br><span class="line"></span><br><span class="line">        Spacer(Modifier.height(<span class="number">10.</span>dp))</span><br><span class="line"></span><br><span class="line">        MyText(<span class="string">&quot;Column Item 1&quot;</span>, Color.Red)</span><br><span class="line"></span><br><span class="line">        Spacer(Modifier.weight(<span class="number">1f</span>))</span><br><span class="line"></span><br><span class="line">        MyText(<span class="string">&quot;Column Item 2&quot;</span>, Color.Blue)</span><br><span class="line"></span><br><span class="line">        Spacer(Modifier.weight(<span class="number">1f</span>))</span><br><span class="line"></span><br><span class="line">        MyText(<span class="string">&quot;Column Item 3&quot;</span>, Color.Blue)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Composable</span></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">MyText</span><span class="params">(text : <span class="type">String</span>, color : <span class="type">Color</span>)</span></span> &#123;</span><br><span class="line">    Text(text,</span><br><span class="line">        modifier = Modifier.background(color).padding(<span class="number">5.</span>dp),</span><br><span class="line">        fontSize = <span class="number">20.</span>sp,</span><br><span class="line">        color = Color.White</span><br><span class="line">    )</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://markdown-1305107759.cos.ap-guangzhou.myqcloud.com/43fd3a25413b9cdd4cca4dabc287e3e3.png" alt="在这里插入图片描述"></p>
<h2 id="Switch、Checkbox、RadioButton"><a href="#Switch、Checkbox、RadioButton" class="headerlink" title="Switch、Checkbox、RadioButton"></a>Switch、Checkbox、RadioButton</h2><p>使用示例</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Composable</span></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">SwitchExample</span><span class="params">()</span></span> &#123;</span><br><span class="line">    Column(horizontalAlignment = Alignment.CenterHorizontally) &#123;</span><br><span class="line">        <span class="keyword">var</span> value <span class="keyword">by</span> remember &#123; mutableStateOf(<span class="literal">false</span>) &#125;</span><br><span class="line">        Switch(</span><br><span class="line">            checked = value,</span><br><span class="line">            onCheckedChange = &#123; value = it &#125;,</span><br><span class="line">            colors = SwitchDefaults.colors(</span><br><span class="line">                checkedThumbColor = Color.Blue,</span><br><span class="line">                checkedTrackColor = Color.Blue,</span><br><span class="line">                uncheckedThumbColor = Color.DarkGray,</span><br><span class="line">                uncheckedTrackColor = Color.Gray</span><br><span class="line">            ),</span><br><span class="line">        )</span><br><span class="line">        <span class="keyword">var</span> boxState <span class="keyword">by</span> remember &#123; mutableStateOf(<span class="literal">true</span>) &#125;</span><br><span class="line">        Checkbox(</span><br><span class="line">            checked = boxState,</span><br><span class="line">            onCheckedChange = &#123; boxState = it &#125;,</span><br><span class="line">            colors = CheckboxDefaults.colors(</span><br><span class="line">                checkedColor = Color.Red,</span><br><span class="line">                uncheckedColor = Color.Gray</span><br><span class="line">            )</span><br><span class="line">        )</span><br><span class="line">        <span class="keyword">var</span> selectState <span class="keyword">by</span> remember &#123; mutableStateOf(<span class="literal">true</span>) &#125;</span><br><span class="line">        RadioButton(</span><br><span class="line">            selected = selectState,</span><br><span class="line">            onClick = &#123; selectState = !selectState &#125;,</span><br><span class="line">            colors = RadioButtonDefaults.colors(</span><br><span class="line">                selectedColor = Color.Blue,</span><br><span class="line">                unselectedColor = Color.Gray</span><br><span class="line">            )</span><br><span class="line">        )</span><br><span class="line">        Text(<span class="string">&quot;CheckBox构建多选组：&quot;</span>)</span><br><span class="line">        CheckBoxMultiSelectGroup()</span><br><span class="line">        Text(<span class="string">&quot;CheckBox构建单选组：&quot;</span>)</span><br><span class="line">        CheckBoxSingleSelectGroup()</span><br><span class="line">        Text(<span class="string">&quot;RadioButton构建多选组：&quot;</span>)</span><br><span class="line">        RadioButtonMultiSelectGroup()</span><br><span class="line">        Text(<span class="string">&quot;RadioButton构建单选组：&quot;</span>)</span><br><span class="line">        RadioButtonSingleSelectGroup()</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Composable</span></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">CheckBoxMultiSelectGroup</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="keyword">var</span> checkedList <span class="keyword">by</span> remember &#123; mutableStateOf(listOf(<span class="literal">false</span>, <span class="literal">false</span>)) &#125;</span><br><span class="line">    Column &#123;</span><br><span class="line">        checkedList.forEachIndexed &#123; i, item -&gt;</span><br><span class="line">            Checkbox(checked = item, onCheckedChange = &#123;</span><br><span class="line">                checkedList = checkedList.mapIndexed &#123; j, b -&gt;</span><br><span class="line">                    <span class="keyword">if</span> (i == j) it <span class="keyword">else</span> b</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Composable</span></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">CheckBoxSingleSelectGroup</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="keyword">var</span> checkedList <span class="keyword">by</span> remember &#123; mutableStateOf(listOf(<span class="literal">false</span>, <span class="literal">false</span>)) &#125;</span><br><span class="line">    Column &#123;</span><br><span class="line">        checkedList.forEachIndexed &#123; i, item -&gt;</span><br><span class="line">            Checkbox(checked = item, onCheckedChange = &#123;</span><br><span class="line">                checkedList = List(checkedList.size) &#123; j -&gt; i == j &#125;</span><br><span class="line">            &#125;)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Composable</span></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">RadioButtonMultiSelectGroup</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="keyword">var</span> checkedList <span class="keyword">by</span> remember &#123; mutableStateOf(listOf(<span class="literal">false</span>, <span class="literal">false</span>)) &#125;</span><br><span class="line">    LazyColumn &#123;</span><br><span class="line">        items(checkedList.size) &#123; i -&gt;</span><br><span class="line">            RadioButton(selected = checkedList[i], onClick = &#123;</span><br><span class="line">                checkedList = checkedList.mapIndexed &#123; j, b -&gt;</span><br><span class="line">                    <span class="keyword">if</span> (i == j) !b <span class="keyword">else</span> b</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Composable</span></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">RadioButtonSingleSelectGroup</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="keyword">var</span> checkedList <span class="keyword">by</span> remember &#123; mutableStateOf(listOf(<span class="literal">false</span>, <span class="literal">false</span>)) &#125;</span><br><span class="line">    LazyColumn &#123;</span><br><span class="line">        items(checkedList.size) &#123; i -&gt;</span><br><span class="line">            RadioButton(selected = checkedList[i], onClick = &#123;</span><br><span class="line">                checkedList = List(checkedList.size) &#123; j -&gt; i == j &#125;</span><br><span class="line">            &#125;)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://markdown-1305107759.cos.ap-guangzhou.myqcloud.com/98351435d6b0b925f5de227bdd95317a.gif" alt="在这里插入图片描述"></p>
<h2 id="Chip"><a href="#Chip" class="headerlink" title="Chip"></a>Chip</h2><p>类似于标签的组件，可以设置边框和颜色等，可以响应点击事件。</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@OptIn(ExperimentalMaterialApi::class)</span></span><br><span class="line"><span class="meta">@Composable</span></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">ChipSample</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="keyword">val</span> context = LocalContext.current</span><br><span class="line">    Chip(onClick = &#123; context.showToast(<span class="string">&quot;Action Chip&quot;</span>) &#125;) &#123;</span><br><span class="line">        Text(<span class="string">&quot;Action Chip&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@OptIn(ExperimentalMaterialApi::class)</span></span><br><span class="line"><span class="meta">@Composable</span></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">OutlinedChipWithIconSample</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="keyword">val</span> context = LocalContext.current</span><br><span class="line">    Chip(</span><br><span class="line">        onClick = &#123; context.showToast(<span class="string">&quot;Change settings&quot;</span>)&#125;,</span><br><span class="line">        border = ChipDefaults.outlinedBorder,</span><br><span class="line">        colors = ChipDefaults.outlinedChipColors(),</span><br><span class="line">        leadingIcon = &#123;</span><br><span class="line">            Icon(Icons.Filled.Settings, contentDescription = <span class="string">&quot;Localized description&quot;</span>)</span><br><span class="line">        &#125;</span><br><span class="line">    ) &#123;</span><br><span class="line">        Text(<span class="string">&quot;Change settings&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://markdown-1305107759.cos.ap-guangzhou.myqcloud.com/032efd6459451e5f1f57b4582e50b827.gif" alt="在这里插入图片描述"></p>
<p><code>Chip</code>默认是没有选中状态的，不过可以通过点击的时候改变背景色来实现，例如：</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@OptIn(ExperimentalMaterialApi::class)</span></span><br><span class="line"><span class="meta">@Composable</span></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">SelectableChip</span><span class="params">(</span></span></span><br><span class="line"><span class="params"><span class="function">    modifier: <span class="type">Modifier</span> = Modifier,</span></span></span><br><span class="line"><span class="params"><span class="function">    chipText: <span class="type">String</span>,</span></span></span><br><span class="line"><span class="params"><span class="function">    isSelected: <span class="type">Boolean</span>,</span></span></span><br><span class="line"><span class="params"><span class="function">    onSelectChanged: (<span class="type">Boolean</span>) -&gt; <span class="type">Unit</span></span></span></span><br><span class="line"><span class="params"><span class="function">)</span></span> &#123;</span><br><span class="line">    Chip(</span><br><span class="line">        modifier = modifier,</span><br><span class="line">        onClick = &#123; onSelectChanged(!isSelected) &#125;,</span><br><span class="line">        border = <span class="keyword">if</span> (isSelected) ChipDefaults.outlinedBorder <span class="keyword">else</span> <span class="literal">null</span>,</span><br><span class="line">        colors = ChipDefaults.chipColors(</span><br><span class="line">            backgroundColor = <span class="keyword">when</span> &#123;</span><br><span class="line">                isSelected -&gt; MaterialTheme.colors.primary.copy(alpha = <span class="number">0.75f</span>)</span><br><span class="line">                <span class="keyword">else</span> -&gt; MaterialTheme.colors.onSurface.copy(alpha = <span class="number">0.12f</span>)</span><br><span class="line">                    .compositeOver(MaterialTheme.colors.surface)</span><br><span class="line">            &#125;</span><br><span class="line">        ),</span><br><span class="line">    ) &#123;</span><br><span class="line">        Text(chipText, color = <span class="keyword">if</span> (isSelected) Color.White <span class="keyword">else</span> Color.Black)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">@Composable</span></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">ChipGroupSingleLineSample</span><span class="params">()</span></span> &#123;</span><br><span class="line">    Column(horizontalAlignment = Alignment.CenterHorizontally) &#123;</span><br><span class="line">        Row(modifier = Modifier.horizontalScroll(rememberScrollState())) &#123;</span><br><span class="line">            repeat(<span class="number">9</span>) &#123; index -&gt;</span><br><span class="line">                <span class="keyword">var</span> selected <span class="keyword">by</span> remember &#123; mutableStateOf(<span class="literal">false</span>) &#125;</span><br><span class="line">                SelectableChip(</span><br><span class="line">                    modifier = Modifier.padding(horizontal = <span class="number">4.</span>dp),</span><br><span class="line">                    chipText = <span class="string">&quot;Chip <span class="variable">$index</span>&quot;</span>,</span><br><span class="line">                    isSelected = selected,</span><br><span class="line">                    onSelectChanged = &#123; selected = it&#125;</span><br><span class="line">                )</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@OptIn(ExperimentalLayoutApi::class)</span></span><br><span class="line"><span class="meta">@Composable</span></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">ChipGroupReflowSample</span><span class="params">()</span></span> &#123;</span><br><span class="line">    Column &#123;</span><br><span class="line">        FlowRow(</span><br><span class="line">            Modifier.fillMaxWidth(<span class="number">1f</span>)</span><br><span class="line">                .wrapContentHeight(align = Alignment.Top),</span><br><span class="line">            horizontalArrangement = Arrangement.Start,</span><br><span class="line">        ) &#123;</span><br><span class="line">            repeat(<span class="number">10</span>) &#123; index -&gt;</span><br><span class="line">                <span class="keyword">var</span> selected <span class="keyword">by</span> remember &#123; mutableStateOf(<span class="literal">false</span>) &#125;</span><br><span class="line">                SelectableChip(</span><br><span class="line">                    modifier = Modifier.padding(horizontal = <span class="number">4.</span>dp)</span><br><span class="line">                        .align(alignment = Alignment.CenterVertically),</span><br><span class="line">                    chipText = <span class="string">&quot;Chip <span class="variable">$index</span>&quot;</span>,</span><br><span class="line">                    isSelected = selected,</span><br><span class="line">                    onSelectChanged = &#123; selected = it&#125;</span><br><span class="line">                )</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://markdown-1305107759.cos.ap-guangzhou.myqcloud.com/e4c1f29f0808632c28807cf39b45e748.gif" alt="在这里插入图片描述"></p>
<h2 id="FilterChip"><a href="#FilterChip" class="headerlink" title="FilterChip"></a>FilterChip</h2><p><code>FilterChip</code> 就是具有选中状态的 <code>Chip</code>，可以配置选中状态下的背景颜色、内容颜色以及选中的图标。</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@OptIn(ExperimentalMaterialApi::class)</span></span><br><span class="line"><span class="meta">@Composable</span></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">FilterChipSample</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="keyword">var</span> selected <span class="keyword">by</span> remember &#123; mutableStateOf(<span class="literal">false</span>) &#125;</span><br><span class="line">    FilterChip(</span><br><span class="line">        selected = selected,</span><br><span class="line">        onClick = &#123; selected = !selected &#125;,</span><br><span class="line">        colors = ChipDefaults.filterChipColors(</span><br><span class="line">            selectedBackgroundColor = MaterialTheme.colors.primary.copy(alpha = <span class="number">0.75f</span>),</span><br><span class="line">            selectedContentColor = Color.White,</span><br><span class="line">            selectedLeadingIconColor = Color.White</span><br><span class="line">        ),</span><br><span class="line">        selectedIcon = &#123;</span><br><span class="line">            Icon(</span><br><span class="line">                imageVector = Icons.Filled.Done,</span><br><span class="line">                contentDescription = <span class="string">&quot;Localized Description&quot;</span>,</span><br><span class="line">                modifier = Modifier.requiredSize(ChipDefaults.SelectedIconSize)</span><br><span class="line">            )</span><br><span class="line">        &#125;</span><br><span class="line">    ) &#123;</span><br><span class="line">        Text(<span class="string">&quot;Filter chip&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@OptIn(ExperimentalMaterialApi::class)</span></span><br><span class="line"><span class="meta">@Composable</span></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">OutlinedFilterChipSample</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="keyword">var</span> selected <span class="keyword">by</span> remember &#123; mutableStateOf(<span class="literal">false</span>) &#125;</span><br><span class="line">    FilterChip(</span><br><span class="line">        selected = selected,</span><br><span class="line">        onClick = &#123; selected = !selected &#125;,</span><br><span class="line">        border = <span class="keyword">if</span> (!selected) ChipDefaults.outlinedBorder</span><br><span class="line">                <span class="keyword">else</span> BorderStroke(ChipDefaults.OutlinedBorderSize, MaterialTheme.colors.primary),</span><br><span class="line">        colors = ChipDefaults.outlinedFilterChipColors(</span><br><span class="line">            selectedBackgroundColor = Color.White,</span><br><span class="line">            selectedContentColor = MaterialTheme.colors.primary,</span><br><span class="line">            selectedLeadingIconColor = MaterialTheme.colors.primary</span><br><span class="line">        ),</span><br><span class="line">        selectedIcon = &#123;</span><br><span class="line">            Icon(</span><br><span class="line">                imageVector = Icons.Filled.Done,</span><br><span class="line">                contentDescription = <span class="string">&quot;Localized Description&quot;</span>,</span><br><span class="line">                modifier = Modifier.requiredSize(ChipDefaults.SelectedIconSize)</span><br><span class="line">            )</span><br><span class="line">        &#125;</span><br><span class="line">    ) &#123;</span><br><span class="line">        Text(<span class="string">&quot;Filter chip&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@OptIn(ExperimentalMaterialApi::class)</span></span><br><span class="line"><span class="meta">@Composable</span></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">FilterChipWithLeadingIconSample</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="keyword">var</span> selected <span class="keyword">by</span> remember &#123; mutableStateOf(<span class="literal">false</span>) &#125;</span><br><span class="line">    FilterChip(</span><br><span class="line">        selected = selected,</span><br><span class="line">        onClick = &#123; selected = !selected &#125;,</span><br><span class="line">        colors = ChipDefaults.filterChipColors(</span><br><span class="line">            selectedBackgroundColor = MaterialTheme.colors.primary.copy(alpha = <span class="number">0.75f</span>),</span><br><span class="line">            selectedContentColor = Color.White,</span><br><span class="line">            selectedLeadingIconColor = Color.White</span><br><span class="line">        ),</span><br><span class="line">        leadingIcon = &#123;</span><br><span class="line">            Icon(</span><br><span class="line">                imageVector = Icons.Filled.Home,</span><br><span class="line">                contentDescription = <span class="string">&quot;Localized description&quot;</span>,</span><br><span class="line">                modifier = Modifier.requiredSize(ChipDefaults.LeadingIconSize)</span><br><span class="line">            )</span><br><span class="line">        &#125;,</span><br><span class="line">        selectedIcon = &#123;</span><br><span class="line">            Icon(</span><br><span class="line">                imageVector = Icons.Filled.Done,</span><br><span class="line">                contentDescription = <span class="string">&quot;Localized Description&quot;</span>,</span><br><span class="line">                modifier = Modifier.requiredSize(ChipDefaults.SelectedIconSize)</span><br><span class="line">            )</span><br><span class="line">        &#125;</span><br><span class="line">    ) &#123;</span><br><span class="line">        Text(<span class="string">&quot;Filter chip&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://markdown-1305107759.cos.ap-guangzhou.myqcloud.com/d7b4931b5b3bdc8fefb73b97867cfc20.gif" alt="在这里插入图片描述"></p>
<h2 id="Text"><a href="#Text" class="headerlink" title="Text"></a>Text</h2><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Composable</span></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">TextExample</span><span class="params">()</span></span> &#123;</span><br><span class="line">    Column(</span><br><span class="line">        horizontalAlignment = Alignment.CenterHorizontally,</span><br><span class="line">        modifier = Modifier.padding(<span class="number">10.</span>dp)</span><br><span class="line">    ) &#123;</span><br><span class="line">        Text(</span><br><span class="line">            text = <span class="string">&quot;Hello Compose!&quot;</span>,</span><br><span class="line">            color = Color.Red,</span><br><span class="line">            fontSize = <span class="number">16.</span>sp,</span><br><span class="line">            textDecoration = TextDecoration.LineThrough,</span><br><span class="line">            letterSpacing = <span class="number">2.</span>sp, <span class="comment">// 这里设置dp就会报错，只能用sp，sp是TextUnit和Dp类型不太一样, Text的属性好像只能全部都用sp</span></span><br><span class="line">        )</span><br><span class="line">        Text(</span><br><span class="line">            text = stringResource(id = R.string.app_name),</span><br><span class="line">            color = Color.Blue,</span><br><span class="line">            fontSize = <span class="number">16.</span>sp,</span><br><span class="line">            textDecoration = TextDecoration.Underline,</span><br><span class="line">            modifier = Modifier.fillMaxWidth(),</span><br><span class="line">            textAlign = TextAlign.Right, <span class="comment">// 居右</span></span><br><span class="line">            style = TextStyle(color = Color.White) <span class="comment">// 这个优先级没有上面直接写出来的优先级高</span></span><br><span class="line">        )</span><br><span class="line">        Text(</span><br><span class="line">            text = <span class="string">&quot;很长很长很长很长很长很长很长很长很长很长很长很长很长很长&quot;</span>,</span><br><span class="line">            color = Color.Red,</span><br><span class="line">            fontSize = <span class="number">16.</span>sp,</span><br><span class="line">            maxLines = <span class="number">1</span>,</span><br><span class="line">            overflow = TextOverflow.Ellipsis</span><br><span class="line">        )</span><br><span class="line">        SelectionContainer &#123;</span><br><span class="line">            Text(</span><br><span class="line">                text = <span class="string">&quot;这段文字支持长按选择复制&quot;</span>,</span><br><span class="line">                color = Color.Blue,</span><br><span class="line">                fontSize = <span class="number">16.</span>sp,</span><br><span class="line">            )</span><br><span class="line">        &#125;</span><br><span class="line">        Text(text = <span class="string">&quot;这段文字支持Click点击&quot;</span>,</span><br><span class="line">            modifier = Modifier.clickable( onClick = &#123; println(<span class="string">&quot;点击了&quot;</span>) &#125; ),</span><br><span class="line">            fontSize = <span class="number">16.</span>sp</span><br><span class="line">        )</span><br><span class="line">        ClickableText(</span><br><span class="line">            text = buildAnnotatedString &#123; append(<span class="string">&quot;这段文字支持点击, 且可以获取点击的字符位置&quot;</span>) &#125;,</span><br><span class="line">            style = TextStyle(color = Color.Blue, fontSize = <span class="number">16.</span>sp),</span><br><span class="line">            onClick = &#123;</span><br><span class="line">                println(<span class="string">&quot;点击的字符位置是<span class="variable">$it</span>&quot;</span>)</span><br><span class="line">            &#125;</span><br><span class="line">        )</span><br><span class="line">        <span class="comment">// AnnotatedString多样式文本 可内嵌超链接、电话号码等</span></span><br><span class="line">        <span class="keyword">val</span> annotatedString = buildAnnotatedString &#123;</span><br><span class="line">            append(<span class="string">&quot;点击登录代表你已知悉&quot;</span>)</span><br><span class="line"></span><br><span class="line">            pushStringAnnotation(<span class="string">&quot;protocol&quot;</span>, <span class="string">&quot;https://jetpackcompose.cn/docs/elements/text&quot;</span>)</span><br><span class="line">            withStyle(style = SpanStyle(Color.Red, textDecoration = TextDecoration.Underline))&#123;</span><br><span class="line">                append(<span class="string">&quot;用户协议&quot;</span>)</span><br><span class="line">            &#125;</span><br><span class="line">            pop()</span><br><span class="line"></span><br><span class="line">            append(<span class="string">&quot;和&quot;</span>)</span><br><span class="line"></span><br><span class="line">            pushStringAnnotation(<span class="string">&quot;privacy&quot;</span>, <span class="string">&quot;https://docs.bughub.icu/compose/&quot;</span>)</span><br><span class="line">            withStyle(style = SpanStyle(Color.Red, textDecoration = TextDecoration.Underline))&#123;</span><br><span class="line">                append(<span class="string">&quot;隐私政策&quot;</span>)</span><br><span class="line">            &#125;</span><br><span class="line">            pop()</span><br><span class="line">        &#125;</span><br><span class="line">        ClickableText(</span><br><span class="line">            text = annotatedString,</span><br><span class="line">            style = TextStyle(fontSize = <span class="number">16.</span>sp),</span><br><span class="line">            onClick = &#123; offset -&gt;</span><br><span class="line">            annotatedString.getStringAnnotations(<span class="string">&quot;protocol&quot;</span>, offset, offset)</span><br><span class="line">                .firstOrNull()?.let &#123; <span class="keyword">annotation</span> -&gt;</span><br><span class="line">                println(<span class="string">&quot;点击到了<span class="subst">$&#123;annotation.item&#125;</span>&quot;</span>)</span><br><span class="line">            &#125;</span><br><span class="line">            annotatedString.getStringAnnotations(<span class="string">&quot;privacy&quot;</span>, offset, offset)</span><br><span class="line">                .firstOrNull()?.let &#123; <span class="keyword">annotation</span> -&gt;</span><br><span class="line">                    println(<span class="string">&quot;点击到了<span class="subst">$&#123;annotation.item&#125;</span>&quot;</span>)</span><br><span class="line">                &#125;</span><br><span class="line">        &#125;)</span><br><span class="line">        Text(</span><br><span class="line">            text = <span class="string">&quot;这是一个标题&quot;</span>,</span><br><span class="line">            style = MaterialTheme.typography.headlineSmall</span><br><span class="line">        )</span><br><span class="line">        Text(</span><br><span class="line">            text =<span class="string">&quot;你好呀陌生人，我是内容&quot;</span>,</span><br><span class="line">            style = MaterialTheme.typography.bodyLarge</span><br><span class="line">        )</span><br><span class="line">        Text(</span><br><span class="line">            text = <span class="string">&quot;测试行高&quot;</span>.repeat(<span class="number">20</span>),</span><br><span class="line">            lineHeight = <span class="number">30.</span>sp,</span><br><span class="line">            fontSize = <span class="number">16.</span>sp</span><br><span class="line">        )</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://markdown-1305107759.cos.ap-guangzhou.myqcloud.com/39a4b8882db46f5a22b941b1c8af0c4c.png" alt="在这里插入图片描述"><br>除了可以通过 <code>textAlign</code> 设置 <code>Text</code> 在父组件中的对齐位置，还可以通过来设置文字在<code>Text</code>组件内部的对齐位置</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Composable</span></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">TextExample2</span><span class="params">()</span></span> &#123;</span><br><span class="line">    Column &#123;</span><br><span class="line">        Text(</span><br><span class="line">            text = <span class="string">&quot;wrapContentWidth.Start&quot;</span>.repeat(<span class="number">1</span>),</span><br><span class="line">            modifier = Modifier</span><br><span class="line">                .width(<span class="number">300.</span>dp)</span><br><span class="line">                .background(Color.Yellow)</span><br><span class="line">                .padding(<span class="number">10.</span>dp)</span><br><span class="line">                .wrapContentWidth(Alignment.Start),</span><br><span class="line">            fontSize = <span class="number">16.</span>sp,</span><br><span class="line">        )</span><br><span class="line">        Text(</span><br><span class="line">            text = <span class="string">&quot;wrapContentWidth.Center&quot;</span>.repeat(<span class="number">1</span>),</span><br><span class="line">            modifier = Modifier</span><br><span class="line">                .width(<span class="number">300.</span>dp)</span><br><span class="line">                .background(Color.Yellow)</span><br><span class="line">                .padding(<span class="number">10.</span>dp)</span><br><span class="line"><span class="comment">//                .fillMaxWidth()</span></span><br><span class="line">                .wrapContentWidth(Alignment.CenterHorizontally),</span><br><span class="line">            fontSize = <span class="number">16.</span>sp,</span><br><span class="line">        )</span><br><span class="line">        Text(</span><br><span class="line">            text = <span class="string">&quot;wrapContentWidth.End&quot;</span>.repeat(<span class="number">1</span>),</span><br><span class="line">            modifier = Modifier</span><br><span class="line">                .width(<span class="number">300.</span>dp)</span><br><span class="line">                .background(Color.Yellow)</span><br><span class="line">                .padding(<span class="number">10.</span>dp)</span><br><span class="line">                .wrapContentWidth(Alignment.End),</span><br><span class="line">            fontSize = <span class="number">16.</span>sp,</span><br><span class="line">        )</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://markdown-1305107759.cos.ap-guangzhou.myqcloud.com/25d09d1346f32950061ca9728c88eb85.png" alt="在这里插入图片描述"></p>
<p>高斯模糊（仅支持Android 12+）</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Modifier.blur() only supported on Android 12+</span></span><br><span class="line"><span class="comment">// 如果兼容12以下，可以使用这个库https://github.com/skydoves/Cloudy</span></span><br><span class="line"><span class="meta">@Preview(showBackground = true, widthDp = 300)</span></span><br><span class="line"><span class="meta">@Composable</span></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">PreviewTextExample4</span><span class="params">()</span></span> &#123;</span><br><span class="line">    Box(Modifier.height(<span class="number">50.</span>dp)) &#123;</span><br><span class="line">        <span class="keyword">var</span> checked <span class="keyword">by</span> remember &#123; mutableStateOf(<span class="literal">true</span>) &#125;</span><br><span class="line">        <span class="keyword">val</span> radius <span class="keyword">by</span> animateDpAsState(targetValue = <span class="keyword">if</span> (checked) <span class="number">10.</span>dp <span class="keyword">else</span> <span class="number">0.</span>dp)</span><br><span class="line">        Text(</span><br><span class="line">            text = <span class="string">&quot;高斯模糊效果&quot;</span>,</span><br><span class="line">            Modifier.blur(</span><br><span class="line">                radius = radius,</span><br><span class="line">                edgeTreatment = BlurredEdgeTreatment.Unbounded</span><br><span class="line">            ),</span><br><span class="line">            fontSize = <span class="number">20.</span>sp</span><br><span class="line">        )</span><br><span class="line"></span><br><span class="line">        Switch(</span><br><span class="line">            checked = checked,</span><br><span class="line">            onCheckedChange = &#123; checked = it &#125;,</span><br><span class="line">            modifier = Modifier.align(Alignment.TopEnd)</span><br><span class="line">        )</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="TextField"><a href="#TextField" class="headerlink" title="TextField"></a>TextField</h2><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Composable</span></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">TextFieldExample</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="keyword">val</span> textFieldColors = TextFieldDefaults.textFieldColors(</span><br><span class="line">        textColor = Color(<span class="number">0xFF0079D3</span>),</span><br><span class="line">        backgroundColor = Color.Transparent <span class="comment">// 修改输入框背景色</span></span><br><span class="line">    )</span><br><span class="line">    Column &#123;</span><br><span class="line">        <span class="keyword">var</span> text <span class="keyword">by</span> remember &#123; mutableStateOf(<span class="string">&quot;&quot;</span>)&#125;</span><br><span class="line">        TextField(</span><br><span class="line">            value = text,</span><br><span class="line">            onValueChange = &#123; text = it &#125;,</span><br><span class="line">            singleLine = <span class="literal">true</span>, <span class="comment">// 单行</span></span><br><span class="line">            label = &#123; Text(<span class="string">&quot;邮箱：&quot;</span>) &#125;, <span class="comment">// 可选</span></span><br><span class="line">            placeholder = &#123; Text(<span class="string">&quot;请输入邮箱&quot;</span>) &#125;,</span><br><span class="line">            <span class="comment">// trailingIcon 参数可以在 TextField 尾部布置 lambda 表达式所接收到的东西</span></span><br><span class="line">            trailingIcon = &#123;</span><br><span class="line">                IconButton(onClick = &#123; println(<span class="string">&quot;你输入的邮箱是：<span class="variable">$text</span>&quot;</span>) &#125; ) &#123;</span><br><span class="line">                    Icon(Icons.Filled.Send, <span class="literal">null</span>)</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;,</span><br><span class="line">            colors = textFieldColors,</span><br><span class="line">            modifier = Modifier.fillMaxWidth()</span><br><span class="line">        )</span><br><span class="line">        <span class="keyword">var</span> text2 <span class="keyword">by</span> remember &#123; mutableStateOf(<span class="string">&quot;&quot;</span>)&#125;</span><br><span class="line">        TextField(</span><br><span class="line">            value = text2,</span><br><span class="line">            onValueChange = &#123; text2 = it &#125;,</span><br><span class="line">            singleLine = <span class="literal">true</span>, <span class="comment">// 单行</span></span><br><span class="line">            placeholder = &#123; Text(<span class="string">&quot;请输入关键字&quot;</span>) &#125;,</span><br><span class="line">            leadingIcon = &#123;</span><br><span class="line">                Icon(Icons.Filled.Search, <span class="literal">null</span>)</span><br><span class="line">            &#125;,</span><br><span class="line">            colors = textFieldColors,</span><br><span class="line">            modifier = Modifier.fillMaxWidth()</span><br><span class="line">        )</span><br><span class="line"></span><br><span class="line">        <span class="keyword">var</span> text3 <span class="keyword">by</span> remember &#123; mutableStateOf(<span class="string">&quot;&quot;</span>) &#125;</span><br><span class="line">        <span class="keyword">var</span> passwordHidden <span class="keyword">by</span> remember&#123; mutableStateOf(<span class="literal">false</span>)&#125;</span><br><span class="line">        TextField(</span><br><span class="line">            value = text3,</span><br><span class="line">            onValueChange = &#123; text3 = it &#125;,</span><br><span class="line">            singleLine = <span class="literal">true</span>,</span><br><span class="line">            trailingIcon = &#123;</span><br><span class="line">                IconButton(onClick = &#123;  passwordHidden = !passwordHidden &#125; ) &#123;</span><br><span class="line">                    Icon(Icons.Filled.Lock, <span class="literal">null</span>)</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;,</span><br><span class="line">            visualTransformation = <span class="keyword">if</span> (passwordHidden) PasswordVisualTransformation()</span><br><span class="line">                                    <span class="keyword">else</span> VisualTransformation.None,</span><br><span class="line">            label = &#123; Text(<span class="string">&quot;密码：&quot;</span>) &#125;,</span><br><span class="line">            colors = textFieldColors,</span><br><span class="line">            modifier = Modifier.fillMaxWidth()</span><br><span class="line">        )</span><br><span class="line"></span><br><span class="line">        <span class="keyword">var</span> text4 <span class="keyword">by</span> remember &#123; mutableStateOf(<span class="string">&quot;&quot;</span>) &#125;</span><br><span class="line">        TextField(</span><br><span class="line">            value = text4,</span><br><span class="line">            onValueChange = &#123; text4 = it &#125;,</span><br><span class="line">            singleLine = <span class="literal">true</span>,</span><br><span class="line">            label = &#123; Text(<span class="string">&quot;姓名：&quot;</span>) &#125;,</span><br><span class="line">            colors = textFieldColors,</span><br><span class="line">            modifier = Modifier.fillMaxWidth()</span><br><span class="line">        )</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://markdown-1305107759.cos.ap-guangzhou.myqcloud.com/086478c4874ffbb18b9f983495398937.gif" alt="在这里插入图片描述"></p>
<h2 id="BasicTextField"><a href="#BasicTextField" class="headerlink" title="BasicTextField"></a>BasicTextField</h2><p><code>TextField</code> 都是按照 Material Design 来设计的，所以里面的一些间距是固定的, 如果你想自定义一个 <code>TextField</code> 的高度，以及其他的自定义效果，你应该使用 <code>BasicTextField</code></p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 可自定义的BasicText</span></span><br><span class="line"><span class="meta">@Composable</span></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">BasicTextFieldExample</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="keyword">var</span> text <span class="keyword">by</span> remember &#123; mutableStateOf(<span class="string">&quot;&quot;</span>) &#125;</span><br><span class="line">    Box(modifier = Modifier</span><br><span class="line">        .background(Color(<span class="number">0xFFD3D3D3</span>)),</span><br><span class="line">        contentAlignment = Alignment.Center) &#123;</span><br><span class="line">        BasicTextField(</span><br><span class="line">            value = text,</span><br><span class="line">            onValueChange = &#123; text = it &#125;,</span><br><span class="line">            modifier = Modifier</span><br><span class="line">                .background(Color.White)</span><br><span class="line">                .fillMaxWidth(),</span><br><span class="line">            decorationBox = &#123; innerTextField -&gt;</span><br><span class="line">                Column(modifier = Modifier.padding(vertical = <span class="number">10.</span>dp)) &#123;</span><br><span class="line">                    Row(verticalAlignment = Alignment.CenterVertically) &#123;</span><br><span class="line">                        IconButton(onClick = &#123;&#125;) &#123; Icon(Icons.Filled.Search, contentDescription = <span class="literal">null</span>) &#125;</span><br><span class="line">                        IconButton(onClick = &#123;&#125;) &#123; Icon(Icons.Filled.Favorite, contentDescription = <span class="literal">null</span>) &#125;</span><br><span class="line">                        IconButton(onClick = &#123;&#125;) &#123; Icon(Icons.Filled.Share, contentDescription = <span class="literal">null</span>) &#125;</span><br><span class="line">                        IconButton(onClick = &#123;&#125;) &#123; Icon(Icons.Filled.Done, contentDescription = <span class="literal">null</span>) &#125;</span><br><span class="line">                    &#125;</span><br><span class="line">                    Box(modifier = Modifier.padding(horizontal = <span class="number">10.</span>dp)) &#123;</span><br><span class="line">                        innerTextField() <span class="comment">// 这个是框架提供好的，我们只需在合适的地方调用它即可</span></span><br><span class="line">                    &#125;</span><br><span class="line">                    Row(</span><br><span class="line">                        modifier = Modifier.fillMaxWidth(),</span><br><span class="line">                        verticalAlignment = Alignment.CenterVertically,</span><br><span class="line">                        horizontalArrangement = Arrangement.End</span><br><span class="line">                    ) &#123;</span><br><span class="line">                        TextButton(onClick = &#123; &#125;) &#123; Text(<span class="string">&quot;发送&quot;</span>) &#125;</span><br><span class="line">                        Spacer(Modifier.padding(horizontal = <span class="number">10.</span>dp))</span><br><span class="line">                        TextButton(onClick = &#123; &#125;) &#123; Text(<span class="string">&quot;关闭&quot;</span>) &#125;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        )</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://markdown-1305107759.cos.ap-guangzhou.myqcloud.com/292f40de2f29226eacb129fc718d58ba.png" alt="在这里插入图片描述"></p>
<p>一个类似哔哩哔哩App的搜索框：</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Composable</span></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">SearchBar</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="keyword">var</span> text <span class="keyword">by</span> remember &#123; mutableStateOf(<span class="string">&quot;&quot;</span>) &#125;</span><br><span class="line">    <span class="keyword">var</span> showPlaceHolder <span class="keyword">by</span> remember &#123; mutableStateOf(<span class="literal">true</span>) &#125;</span><br><span class="line"></span><br><span class="line">    Box(</span><br><span class="line">        modifier = Modifier</span><br><span class="line">            .height(<span class="number">50.</span>dp)</span><br><span class="line">            .background(Color(<span class="number">0xFFD3D3D3</span>)),</span><br><span class="line">        contentAlignment = Alignment.Center</span><br><span class="line">    ) &#123;</span><br><span class="line">        BasicTextField(</span><br><span class="line">            value = text,</span><br><span class="line">            onValueChange = &#123;</span><br><span class="line">                text = it</span><br><span class="line">                showPlaceHolder = it.isEmpty()</span><br><span class="line">            &#125;,</span><br><span class="line">            decorationBox = &#123; innerTextField -&gt;</span><br><span class="line">                Row(</span><br><span class="line">                    verticalAlignment = Alignment.CenterVertically,</span><br><span class="line">                    modifier = Modifier.padding(horizontal = <span class="number">8.</span>dp, vertical = <span class="number">2.</span>dp)</span><br><span class="line">                ) &#123;</span><br><span class="line">                    Icon(</span><br><span class="line">                        imageVector = Icons.Filled.Search,</span><br><span class="line">                        contentDescription = <span class="string">&quot;搜索&quot;</span>,</span><br><span class="line">                    )</span><br><span class="line">                    Box(</span><br><span class="line">                        modifier = Modifier</span><br><span class="line">                            .padding(horizontal = <span class="number">10.</span>dp)</span><br><span class="line">                            .weight(<span class="number">1f</span>),</span><br><span class="line">                        contentAlignment = Alignment.CenterStart</span><br><span class="line">                    ) &#123;</span><br><span class="line">                        <span class="keyword">if</span> (showPlaceHolder) &#123;</span><br><span class="line">                            Text(</span><br><span class="line">                                text = <span class="string">&quot;输入点东西看看吧~&quot;</span>,</span><br><span class="line">                                color = Color(<span class="number">0x7F000000</span>),</span><br><span class="line">                                modifier = Modifier.clickable &#123; showPlaceHolder = <span class="literal">false</span> &#125;</span><br><span class="line">                            )</span><br><span class="line">                        &#125;</span><br><span class="line">                        innerTextField()</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="keyword">if</span> (text.isNotEmpty()) &#123;</span><br><span class="line">                        IconButton(</span><br><span class="line">                            onClick = &#123; text = <span class="string">&quot;&quot;</span> &#125;,</span><br><span class="line">                            modifier = Modifier.size(<span class="number">16.</span>dp)</span><br><span class="line">                        ) &#123;</span><br><span class="line">                            Icon(imageVector = Icons.Filled.Close, contentDescription = <span class="string">&quot;清除&quot;</span>)</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;,</span><br><span class="line">            modifier = Modifier</span><br><span class="line">                .padding(horizontal = <span class="number">10.</span>dp)</span><br><span class="line">                .background(Color.White, CircleShape)</span><br><span class="line">                .height(<span class="number">30.</span>dp)</span><br><span class="line">                .fillMaxWidth()</span><br><span class="line">        )</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://markdown-1305107759.cos.ap-guangzhou.myqcloud.com/7683eb3956be4de5606a457bb7037271.gif" alt="在这里插入图片描述"></p>
<h2 id="OutlinedTextField"><a href="#OutlinedTextField" class="headerlink" title="OutlinedTextField"></a>OutlinedTextField</h2><p>带边框的输入框</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Composable</span></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">OutlinedTextFieldExample</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="keyword">val</span> textValue = remember &#123; mutableStateOf(<span class="string">&quot;&quot;</span>) &#125;</span><br><span class="line">    <span class="keyword">val</span> context = LocalContext.current</span><br><span class="line">    Box(contentAlignment = Alignment.Center, modifier = Modifier.padding(<span class="number">10.</span>dp)) &#123;</span><br><span class="line">        OutlinedTextField(</span><br><span class="line">            value = textValue.value,</span><br><span class="line">            onValueChange = &#123; textValue.value = it &#125;,</span><br><span class="line">            placeholder = &#123; Text(text = <span class="string">&quot;用户名&quot;</span>) &#125;,</span><br><span class="line">            label = &#123; Text(text = <span class="string">&quot;用户名标签&quot;</span>) &#125;,</span><br><span class="line">            singleLine = <span class="literal">true</span>,</span><br><span class="line">            leadingIcon = &#123; Icon(Icons.Filled.Person, contentDescription = <span class="string">&quot;&quot;</span>) &#125;,</span><br><span class="line">            trailingIcon = &#123;</span><br><span class="line">                <span class="keyword">if</span> (textValue.value.isNotEmpty()) &#123;<span class="comment">//文本框输入内容不为空时显示删除按钮</span></span><br><span class="line">                    IconButton(onClick = &#123; textValue.value = <span class="string">&quot;&quot;</span> &#125;) &#123;</span><br><span class="line">                        Icon(imageVector = Icons.Filled.Clear, contentDescription = <span class="string">&quot;清除&quot;</span>)</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;,</span><br><span class="line">            <span class="comment">//文本框通常和键盘配合使用</span></span><br><span class="line">            keyboardOptions = KeyboardOptions(</span><br><span class="line">                <span class="comment">//设置键盘选项，如键盘类型和操作</span></span><br><span class="line">                keyboardType = KeyboardType.Text,<span class="comment">//设置键盘类型：数字，email等</span></span><br><span class="line">                imeAction = ImeAction.Send,<span class="comment">//设置键盘操作，如next send search 等</span></span><br><span class="line">            ),</span><br><span class="line">            keyboardActions = KeyboardActions(<span class="comment">//键盘事件回调，与imeAction一一对应</span></span><br><span class="line">                onSend = &#123; <span class="comment">// 点击键盘发送事件</span></span><br><span class="line">                    context.showToast(<span class="string">&quot;输入的内容为<span class="subst">$&#123;textValue.value&#125;</span>&quot;</span>)</span><br><span class="line">                &#125;</span><br><span class="line">            ),</span><br><span class="line">            colors = TextFieldDefaults.outlinedTextFieldColors(</span><br><span class="line">                <span class="comment">//colors属性设置文本框不同状态下的颜色</span></span><br><span class="line">                focusedBorderColor = Color.Red,<span class="comment">//设置文本框焦点状态下的边框颜色</span></span><br><span class="line">                unfocusedBorderColor = Color.Blue,<span class="comment">//设置文本框未获取焦点状态时的边框颜色</span></span><br><span class="line">                disabledBorderColor = Color.Gray,<span class="comment">//设置文本框禁用时的边框颜色</span></span><br><span class="line">                cursorColor = Color.Blue,<span class="comment">//设置光标颜色</span></span><br><span class="line">                <span class="comment">//错误状态下的样式调整</span></span><br><span class="line">                errorLabelColor = Color.Red,<span class="comment">//设置错误状态下的标签颜色</span></span><br><span class="line">                errorLeadingIconColor = Color.Red,<span class="comment">//设置错误状态下文本框前端图标颜色</span></span><br><span class="line">                errorTrailingIconColor = Color.Red,<span class="comment">//设置错误状态下尾端图标颜色</span></span><br><span class="line">                errorBorderColor = Color.Red,<span class="comment">//设置错误状态下文本框边框颜色</span></span><br><span class="line">                errorCursorColor = Color.Red,<span class="comment">//设置错误状态下光标颜色</span></span><br><span class="line">            ),</span><br><span class="line">            isError = <span class="literal">false</span>, <span class="comment">//true-显示错误状态的样式，false-普通状态样式</span></span><br><span class="line">            enabled = <span class="literal">true</span>, <span class="comment">//true-设置状态为可用，false-设置状态为禁用</span></span><br><span class="line">            modifier = Modifier.height(<span class="number">100.</span>dp).fillMaxWidth()</span><br><span class="line">        )</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://markdown-1305107759.cos.ap-guangzhou.myqcloud.com/212c3d475adc99812c7b1176845f3bc3.png" alt="在这里插入图片描述"></p>
<h2 id="Card"><a href="#Card" class="headerlink" title="Card"></a>Card</h2><p>一个卡片组件</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Composable</span></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">MyCard</span><span class="params">(width: <span class="type">Dp</span>, height: <span class="type">Dp</span>, title: <span class="type">String</span>, imgId: <span class="type">Int</span> = R.drawable.ic_sky)</span></span> &#123;</span><br><span class="line">    Box &#123;</span><br><span class="line">        Card(</span><br><span class="line">            modifier = Modifier.size(width, height),</span><br><span class="line">            backgroundColor = MaterialTheme.colorScheme.background,</span><br><span class="line">            contentColor = MaterialTheme.colorScheme.background,</span><br><span class="line"><span class="comment">//        border = BorderStroke(1.dp, Color.Gray),</span></span><br><span class="line">            elevation = <span class="number">10.</span>dp</span><br><span class="line">        ) &#123;</span><br><span class="line">            Column &#123;</span><br><span class="line">                Image(</span><br><span class="line">                    painter = painterResource(id = imgId),</span><br><span class="line">                    contentDescription = <span class="literal">null</span>,</span><br><span class="line">                    modifier = Modifier</span><br><span class="line">                        .fillMaxWidth()</span><br><span class="line">                        .weight(<span class="number">1f</span>),</span><br><span class="line">                    contentScale = ContentScale.Crop</span><br><span class="line">                )</span><br><span class="line">                Divider(Modifier.fillMaxWidth())</span><br><span class="line">                Text(</span><br><span class="line">                    title,</span><br><span class="line">                    Modifier.padding(<span class="number">8.</span>dp),</span><br><span class="line">                    color = MaterialTheme.colorScheme.onBackground,</span><br><span class="line">                    fontSize = <span class="number">20.</span>sp</span><br><span class="line">                )</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Preview(showBackground = true, widthDp = 400, heightDp = 300)</span></span><br><span class="line"><span class="meta">@Composable</span></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">CardExamplePreview</span><span class="params">()</span></span> &#123;</span><br><span class="line">    Box(contentAlignment = Alignment.Center) &#123;</span><br><span class="line">        MyCard(<span class="number">300.</span>dp, <span class="number">200.</span>dp, <span class="string">&quot;Cart Content&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://markdown-1305107759.cos.ap-guangzhou.myqcloud.com/15ebad5b72d8441b5b09693cc21ee4f9.png" alt="在这里插入图片描述"></p>
<h2 id="Box"><a href="#Box" class="headerlink" title="Box"></a>Box</h2><p>按顺序堆叠，类似<code>FrameLayout</code></p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Composable</span></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">BoxExample</span><span class="params">()</span></span> &#123;</span><br><span class="line">    Box(</span><br><span class="line">        contentAlignment = Alignment.Center</span><br><span class="line">    ) &#123;</span><br><span class="line">        Box(modifier = Modifier.size(<span class="number">150.</span>dp).background(Color.Red))</span><br><span class="line">        Box(modifier = Modifier.size(<span class="number">80.</span>dp).background(Color.Blue))</span><br><span class="line">        Text(<span class="string">&quot;Box&quot;</span>, color = Color.Yellow)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://markdown-1305107759.cos.ap-guangzhou.myqcloud.com/b173b61da65849c88d7ad89bfceb280f.png" alt="在这里插入图片描述"></p>
<p><code>BoxScope</code>中有两个<code>Box</code>子元素专有的<code>Modifier</code>属性：<code>align</code> 和 <code>matchParentSize</code></p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Composable</span></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">ModifierSample2</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="comment">// 父元素</span></span><br><span class="line">    Box(modifier = Modifier</span><br><span class="line">        .width(<span class="number">200.</span>dp)</span><br><span class="line">        .height(<span class="number">300.</span>dp)</span><br><span class="line">        .background(Color.Yellow))&#123;</span><br><span class="line">        <span class="comment">// 子元素</span></span><br><span class="line">        Box(modifier = Modifier</span><br><span class="line">            .align(Alignment.Center) <span class="comment">// align是父级数据修饰符</span></span><br><span class="line">            .size(<span class="number">50.</span>dp)</span><br><span class="line">            .background(Color.Blue))</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://markdown-1305107759.cos.ap-guangzhou.myqcloud.com/cdf7ed3f52fa00a7eba002f30943ac21.png" alt="在这里插入图片描述"></p>
<h2 id="BoxWithConstraints"><a href="#BoxWithConstraints" class="headerlink" title="BoxWithConstraints"></a>BoxWithConstraints</h2><p>示例代码1：</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Composable</span></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">BoxWithConstraintsExample</span><span class="params">()</span></span> &#123;</span><br><span class="line">    BoxWithConstraints &#123;</span><br><span class="line">        <span class="keyword">val</span> boxWithConstraintsScope = <span class="keyword">this</span></span><br><span class="line">        <span class="keyword">if</span> (maxHeight &lt; <span class="number">200.</span>dp) &#123;</span><br><span class="line">            Column(Modifier</span><br><span class="line">                .fillMaxWidth()</span><br><span class="line">                .background(Color.Cyan)) &#123;</span><br><span class="line">                Text(<span class="string">&quot;只在最大高度 &lt; 200dp 时显示&quot;</span>, fontSize = <span class="number">20.</span>sp)</span><br><span class="line">                with(boxWithConstraintsScope) &#123;</span><br><span class="line">                    Text(<span class="string">&quot;minHeight: <span class="variable">$minHeight</span>&quot;</span>, fontSize = <span class="number">20.</span>sp)</span><br><span class="line">                    Text(<span class="string">&quot;maxHeight: <span class="variable">$maxHeight</span>&quot;</span>, fontSize = <span class="number">20.</span>sp)</span><br><span class="line">                    Text(<span class="string">&quot;minWidth: <span class="variable">$minWidth</span>&quot;</span>, fontSize = <span class="number">20.</span>sp)</span><br><span class="line">                    Text(<span class="string">&quot;maxWidth: <span class="variable">$maxWidth</span>&quot;</span>, fontSize = <span class="number">20.</span>sp)</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            Column(Modifier</span><br><span class="line">                .fillMaxWidth()</span><br><span class="line">                .background(Color.Green)) &#123;</span><br><span class="line">                Text(<span class="string">&quot;当 maxHeight &gt;= 200dp 时显示&quot;</span>, fontSize = <span class="number">20.</span>sp)</span><br><span class="line">                with(boxWithConstraintsScope) &#123;</span><br><span class="line">                    Text(<span class="string">&quot;minHeight: <span class="variable">$minHeight</span>&quot;</span>, fontSize = <span class="number">20.</span>sp)</span><br><span class="line">                    Text(<span class="string">&quot;maxHeight: <span class="variable">$maxHeight</span>&quot;</span>, fontSize = <span class="number">20.</span>sp)</span><br><span class="line">                    Text(<span class="string">&quot;minWidth: <span class="variable">$minWidth</span>&quot;</span>, fontSize = <span class="number">20.</span>sp)</span><br><span class="line">                    Text(<span class="string">&quot;maxWidth: <span class="variable">$maxWidth</span>&quot;</span>, fontSize = <span class="number">20.</span>sp)</span><br><span class="line">                &#125;</span><br><span class="line">             &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Preview(heightDp = 150, showBackground = true)</span></span><br><span class="line"><span class="meta">@Composable</span></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">BoxWithConstraintsExamplePreview</span><span class="params">()</span></span> &#123;</span><br><span class="line">    BoxWithConstraintsExample()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Preview(heightDp = 250, showBackground = true)</span></span><br><span class="line"><span class="meta">@Composable</span></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">BoxWithConstraintsExamplePreview2</span><span class="params">()</span></span> &#123;</span><br><span class="line">    BoxWithConstraintsExample()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://markdown-1305107759.cos.ap-guangzhou.myqcloud.com/2d96d70756b78524daa01f26b6af6692.png" alt="在这里插入图片描述"></p>
<p>示例代码2：</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Composable</span></span><br><span class="line"><span class="keyword">private</span> <span class="function"><span class="keyword">fun</span> <span class="title">BoxWithConstraintsExample2</span><span class="params">(modifier: <span class="type">Modifier</span> = Modifier)</span></span> &#123;</span><br><span class="line">    BoxWithConstraints(modifier.background(Color.LightGray)) &#123;</span><br><span class="line">        <span class="keyword">val</span> boxWithConstraintsScope = <span class="keyword">this</span></span><br><span class="line">        <span class="keyword">val</span> topHeight = maxHeight * <span class="number">2</span> / <span class="number">3f</span></span><br><span class="line">        <span class="comment">// 也可以通过父组件传入的constraints来获取，不过这样得到的值是px，需要按需转成成dp使用</span></span><br><span class="line">        <span class="comment">// val topHeight = (this.constraints.maxHeight * 2 / 3f).toDp()</span></span><br><span class="line">        Column(Modifier.fillMaxWidth()) &#123;</span><br><span class="line">            Column(Modifier.background(Color.Magenta).fillMaxWidth().height(topHeight)) &#123;</span><br><span class="line">                Text(<span class="string">&quot;占整个组件高度的 2/3 \ntopHeight: <span class="variable">$topHeight</span>&quot;</span>, fontSize = <span class="number">20.</span>sp)</span><br><span class="line">                with(boxWithConstraintsScope) &#123;</span><br><span class="line">                    Text(<span class="string">&quot;minHeight: <span class="variable">$minHeight</span>&quot;</span>, fontSize = <span class="number">20.</span>sp)</span><br><span class="line">                    Text(<span class="string">&quot;maxHeight: <span class="variable">$maxHeight</span>&quot;</span>, fontSize = <span class="number">20.</span>sp)</span><br><span class="line">                    Text(<span class="string">&quot;minWidth: <span class="variable">$minWidth</span>&quot;</span>, fontSize = <span class="number">20.</span>sp)</span><br><span class="line">                    Text(<span class="string">&quot;maxWidth: <span class="variable">$maxWidth</span>&quot;</span>, fontSize = <span class="number">20.</span>sp)</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">val</span> bottomHeight = boxWithConstraintsScope.maxHeight * <span class="number">1</span> / <span class="number">3f</span></span><br><span class="line">            Box(Modifier.background(Color.Cyan).fillMaxWidth().height(bottomHeight)) &#123;</span><br><span class="line">                Text(<span class="string">&quot;占整个组件高度的 1/3 \nbottomHeight: <span class="variable">$bottomHeight</span>&quot;</span>, fontSize = <span class="number">20.</span>sp)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Preview(showBackground = true)</span></span><br><span class="line"><span class="meta">@Composable</span></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">BoxWithConstraintsExample2Preview</span><span class="params">()</span></span> &#123;</span><br><span class="line">    Column(verticalArrangement = Arrangement.SpaceBetween) &#123;</span><br><span class="line">        <span class="keyword">var</span> height <span class="keyword">by</span> remember &#123; mutableStateOf(<span class="number">200f</span>) &#125;</span><br><span class="line">        BoxWithConstraintsExample2(</span><br><span class="line">            Modifier.fillMaxWidth()</span><br><span class="line">                .height(height.dp)</span><br><span class="line">        )</span><br><span class="line">        Slider(value = height, onValueChange = &#123; height = it&#125;, valueRange = <span class="number">200f</span>.<span class="number">.600f</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://markdown-1305107759.cos.ap-guangzhou.myqcloud.com/68098b248fb8573e4ca4cc19ef10d046.gif" alt="在这里插入图片描述"></p>
<h2 id="Surface"><a href="#Surface" class="headerlink" title="Surface"></a><a target="_blank" rel="noopener" href="https://so.csdn.net/so/search?q=Surface&spm=1001.2101.3001.7020">Surface</a></h2><p><code>Surface</code>可以快速设置界面的形状、阴影、边框、颜色等，可减少<code>Modifier</code>的使用量</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Composable</span></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">SurfaceExample</span><span class="params">()</span></span> &#123;</span><br><span class="line">    Box(</span><br><span class="line">        Modifier.fillMaxSize(),</span><br><span class="line">        contentAlignment = Alignment.Center</span><br><span class="line">    ) &#123;</span><br><span class="line">        Surface(</span><br><span class="line">            shape = RoundedCornerShape(<span class="number">8.</span>dp),</span><br><span class="line">            elevation = <span class="number">10.</span>dp,</span><br><span class="line">            <span class="comment">// border = BorderStroke(1.dp, Color.Red),</span></span><br><span class="line">            modifier = Modifier</span><br><span class="line">                .width(<span class="number">300.</span>dp)</span><br><span class="line">                .height(<span class="number">100.</span>dp)</span><br><span class="line">        ) &#123;</span><br><span class="line">            Box(</span><br><span class="line">                modifier = Modifier.fillMaxSize(),</span><br><span class="line">                contentAlignment = Alignment.Center</span><br><span class="line">            ) &#123;</span><br><span class="line">                Text(text = <span class="string">&quot;Surface&quot;</span>)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://markdown-1305107759.cos.ap-guangzhou.myqcloud.com/6ae8bc77a0e37297ba0bc3b8ba43ad26.png" alt="在这里插入图片描述"></p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Composable</span></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">SurfaceExample2</span><span class="params">()</span></span> &#123;</span><br><span class="line">    Box(</span><br><span class="line">        Modifier.fillMaxSize(),</span><br><span class="line">        contentAlignment = Alignment.Center</span><br><span class="line">    ) &#123;</span><br><span class="line">        Surface(</span><br><span class="line">            shape = CircleShape,</span><br><span class="line">            elevation = <span class="number">10.</span>dp,</span><br><span class="line">            <span class="comment">// border = BorderStroke(1.dp, Color.Red),</span></span><br><span class="line">            modifier = Modifier</span><br><span class="line">                .width(<span class="number">300.</span>dp)</span><br><span class="line">                .height(<span class="number">100.</span>dp)</span><br><span class="line">        ) &#123;</span><br><span class="line">            Box(</span><br><span class="line">                modifier = Modifier.fillMaxSize(),</span><br><span class="line">                contentAlignment = Alignment.Center</span><br><span class="line">            ) &#123;</span><br><span class="line">                Image(</span><br><span class="line">                    painter = painterResource(id = R.drawable.ic_sky),</span><br><span class="line">                    contentDescription = <span class="literal">null</span>,</span><br><span class="line">                    contentScale = ContentScale.Crop,</span><br><span class="line">                    modifier = Modifier.fillMaxSize(),</span><br><span class="line">                )</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://markdown-1305107759.cos.ap-guangzhou.myqcloud.com/d91a203fa2e4d1a2b17e11579c56a1d4.png" alt="在这里插入图片描述"></p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Composable</span></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">SurfaceExample3</span><span class="params">()</span></span> &#123;</span><br><span class="line">    Box(</span><br><span class="line">        Modifier.fillMaxSize(),</span><br><span class="line">        contentAlignment = Alignment.Center</span><br><span class="line">    ) &#123;</span><br><span class="line">        Surface(</span><br><span class="line">            shape = CutCornerShape(<span class="number">35</span>),</span><br><span class="line">            elevation = <span class="number">10.</span>dp,</span><br><span class="line">            <span class="comment">// border = BorderStroke(1.dp, Color.Red),</span></span><br><span class="line">            modifier = Modifier</span><br><span class="line">                .width(<span class="number">300.</span>dp)</span><br><span class="line">                .height(<span class="number">100.</span>dp)</span><br><span class="line">        ) &#123;</span><br><span class="line">            Box(</span><br><span class="line">                modifier = Modifier.fillMaxSize(),</span><br><span class="line">                contentAlignment = Alignment.Center</span><br><span class="line">            ) &#123;</span><br><span class="line">                Image(</span><br><span class="line">                    painter = painterResource(id = R.drawable.ic_sky),</span><br><span class="line">                    contentDescription = <span class="literal">null</span>,</span><br><span class="line">                    contentScale = ContentScale.Crop,</span><br><span class="line">                    modifier = Modifier.fillMaxSize(),</span><br><span class="line">                )</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://markdown-1305107759.cos.ap-guangzhou.myqcloud.com/af1ab16946d3c21d1066e8196e1b4ef9.png" alt="在这里插入图片描述"></p>
<h2 id="ModalBottomSheetLayout"><a href="#ModalBottomSheetLayout" class="headerlink" title="ModalBottomSheetLayout"></a>ModalBottomSheetLayout</h2><p>一般用于底部弹出式菜单</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@OptIn(ExperimentalMaterialApi::class)</span></span><br><span class="line"><span class="meta">@Composable</span></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">ModalBottomSheetExample</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="keyword">val</span> state = rememberModalBottomSheetState(ModalBottomSheetValue.Hidden)</span><br><span class="line">    <span class="keyword">val</span> scope = rememberCoroutineScope()</span><br><span class="line">    ModalBottomSheetLayout(</span><br><span class="line">        sheetState = state,</span><br><span class="line">        sheetContent = &#123;</span><br><span class="line">            Column&#123;</span><br><span class="line">                ListItem(</span><br><span class="line">                    text = &#123; Text(<span class="string">&quot;选择分享到哪里吧~&quot;</span>) &#125;</span><br><span class="line">                )</span><br><span class="line">                ListItem(</span><br><span class="line">                    text = &#123; Text(<span class="string">&quot;github&quot;</span>) &#125;,</span><br><span class="line">                    icon = &#123;</span><br><span class="line">                        Surface(</span><br><span class="line">                            shape = CircleShape,</span><br><span class="line">                            color = Color(<span class="number">0xFF181717</span>)</span><br><span class="line">                        ) &#123;</span><br><span class="line">                            Icon(</span><br><span class="line">                                Icons.Default.Share,</span><br><span class="line">                                <span class="literal">null</span>,</span><br><span class="line">                                tint = Color.White,</span><br><span class="line">                                modifier = Modifier.padding(<span class="number">4.</span>dp)</span><br><span class="line">                            )</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;,</span><br><span class="line">                    modifier = Modifier.clickable &#123; scope.launch &#123; state.hide() &#125; &#125;</span><br><span class="line">                )</span><br><span class="line">                ListItem(</span><br><span class="line">                    text = &#123; Text(<span class="string">&quot;微信&quot;</span>) &#125;,</span><br><span class="line">                    icon = &#123;</span><br><span class="line">                        Surface(</span><br><span class="line">                            shape = CircleShape,</span><br><span class="line">                            color = Color(<span class="number">0xFF07C160</span>)</span><br><span class="line">                        ) &#123;</span><br><span class="line">                            Icon(Icons.Default.Person,</span><br><span class="line">                                <span class="literal">null</span>,</span><br><span class="line">                                tint = Color.White,</span><br><span class="line">                                modifier = Modifier.padding(<span class="number">4.</span>dp)</span><br><span class="line">                            )</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;,</span><br><span class="line">                    modifier = Modifier.clickable &#123; scope.launch &#123; state.hide() &#125; &#125;</span><br><span class="line">                )</span><br><span class="line">                ListItem(</span><br><span class="line">                    text = &#123; Text(<span class="string">&quot;更多&quot;</span>) &#125;,</span><br><span class="line">                    icon = &#123;</span><br><span class="line">                        Surface(</span><br><span class="line">                            shape = CircleShape,</span><br><span class="line">                            color = Color(<span class="number">0xFF07C160</span>)</span><br><span class="line">                        ) &#123;</span><br><span class="line">                            Icon(Icons.Default.MoreVert,</span><br><span class="line">                                <span class="literal">null</span>,</span><br><span class="line">                                tint = Color.White,</span><br><span class="line">                                modifier = Modifier.padding(<span class="number">4.</span>dp)</span><br><span class="line">                            )</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;,</span><br><span class="line">                    modifier = Modifier.clickable &#123; scope.launch &#123; state.hide() &#125; &#125;</span><br><span class="line">                )</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    ) &#123;</span><br><span class="line">        Column(</span><br><span class="line">            modifier = Modifier.fillMaxSize().padding(<span class="number">16.</span>dp),</span><br><span class="line">            horizontalAlignment = Alignment.CenterHorizontally</span><br><span class="line">        ) &#123;</span><br><span class="line">            Button(</span><br><span class="line">                onClick = &#123;</span><br><span class="line">                    scope.launch &#123;</span><br><span class="line">                        state.show()</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            ) &#123;</span><br><span class="line">                Text(<span class="string">&quot;点我展开&quot;</span>)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    BackHandler(</span><br><span class="line">        enabled = (state.currentValue == ModalBottomSheetValue.HalfExpanded</span><br><span class="line">                || state.currentValue == ModalBottomSheetValue.Expanded),</span><br><span class="line">        onBack = &#123;</span><br><span class="line">            scope.launch &#123; state.hide() &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    )</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://markdown-1305107759.cos.ap-guangzhou.myqcloud.com/05db166e5cf941692d73074b8c432670.gif" alt="在这里插入图片描述"></p>
<h2 id="Scaffold"><a href="#Scaffold" class="headerlink" title="Scaffold"></a>Scaffold</h2><p><code>Scaffold</code>是一个用于配置Material Design布局结构的脚手架，提供了一些默认坑位可供配置</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">data</span> <span class="keyword">class</span> <span class="title class_">Item</span>(<span class="keyword">val</span> name : String, <span class="keyword">val</span> icon : ImageVector)</span><br><span class="line"></span><br><span class="line"><span class="keyword">val</span> items = listOf(</span><br><span class="line">    Item(<span class="string">&quot;首页&quot;</span>, Icons.Default.Home),</span><br><span class="line">    Item(<span class="string">&quot;列表&quot;</span>, Icons.Filled.List),</span><br><span class="line">    Item(<span class="string">&quot;设置&quot;</span>, Icons.Filled.Settings)</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="meta">@Composable</span></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">ScaffoldExample</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="keyword">var</span> selectedItem <span class="keyword">by</span> remember &#123; mutableStateOf(<span class="number">0</span>) &#125;</span><br><span class="line">    <span class="keyword">val</span> scaffoldState = rememberScaffoldState()</span><br><span class="line">    <span class="keyword">val</span> scope = rememberCoroutineScope()</span><br><span class="line">    Scaffold(</span><br><span class="line">        topBar = &#123;</span><br><span class="line">            TopAppBar(</span><br><span class="line">                title = &#123; Text(<span class="string">&quot;首页&quot;</span>, color = MaterialTheme.colors.onPrimary) &#125;,</span><br><span class="line"><span class="comment">//                contentPadding = WindowInsets.statusBars.asPaddingValues(),</span></span><br><span class="line">                navigationIcon = &#123;</span><br><span class="line">                    IconButton(onClick = &#123;</span><br><span class="line">                        scope.launch &#123;</span><br><span class="line">                            scaffoldState.drawerState.<span class="keyword">open</span>()</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;) &#123;</span><br><span class="line">                        Icon(Icons.Filled.Menu, <span class="literal">null</span>)</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            )</span><br><span class="line">        &#125;,</span><br><span class="line">        bottomBar = &#123;</span><br><span class="line"><span class="comment">//            val paddingValues =  WindowInsets.navigationBars.asPaddingValues()</span></span><br><span class="line"><span class="comment">//            BottomNavigation(contentPadding = PaddingValues(top = 12.dp, bottom = paddingValues.calculateBottomPadding())) &#123;</span></span><br><span class="line">            BottomNavigation &#123;</span><br><span class="line">                items.forEachIndexed &#123; index, item -&gt;</span><br><span class="line">                    BottomNavigationItem(</span><br><span class="line">                        selected = selectedItem == index,</span><br><span class="line">                        onClick = &#123; selectedItem = index &#125;,</span><br><span class="line">                        icon = &#123;</span><br><span class="line">                            BadgedBox(</span><br><span class="line">                                badge = &#123;</span><br><span class="line">                                    Badge(modifier = Modifier.padding(top = <span class="number">5.</span>dp)) &#123;</span><br><span class="line">                                        <span class="keyword">val</span> badgeNumber = <span class="string">&quot;9&quot;</span></span><br><span class="line">                                        Text(badgeNumber, color = Color.White)</span><br><span class="line">                                    &#125;</span><br><span class="line">                                &#125;,</span><br><span class="line">                            ) &#123;</span><br><span class="line">                                Icon(item.icon, <span class="literal">null</span>,</span><br><span class="line"><span class="comment">//                                    modifier = Modifier.padding(bottom = 5.dp)</span></span><br><span class="line">                                )</span><br><span class="line">                            &#125;</span><br><span class="line">                        &#125;,</span><br><span class="line">                        label = &#123; Text(text = item.name, color = MaterialTheme.colors.onPrimary)&#125;</span><br><span class="line">                    )</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        drawerContent = &#123;</span><br><span class="line">            Text(<span class="string">&quot;Hello&quot;</span>)</span><br><span class="line">        &#125;,</span><br><span class="line">        scaffoldState = scaffoldState,</span><br><span class="line">        floatingActionButton = &#123;</span><br><span class="line">            ExtendedFloatingActionButton(</span><br><span class="line"><span class="comment">//                icon = &#123; Icon(Icons.Default.Add, null) &#125;,</span></span><br><span class="line">                text = &#123; <span class="comment">/*Text(&quot;Add&quot;)*/</span> Icon(Icons.Default.Add, <span class="literal">null</span>)&#125;,</span><br><span class="line">                onClick = &#123; println(<span class="string">&quot;floatingActionButton&quot;</span>) &#125;,</span><br><span class="line">                shape = CircleShape,</span><br><span class="line">                modifier = Modifier.size(<span class="number">80.</span>dp)</span><br><span class="line">            )</span><br><span class="line">        &#125;,</span><br><span class="line">        floatingActionButtonPosition = FabPosition.End,</span><br><span class="line">        isFloatingActionButtonDocked = <span class="literal">false</span></span><br><span class="line">    ) &#123; padding -&gt;</span><br><span class="line">        Box(</span><br><span class="line">            modifier = Modifier</span><br><span class="line">                .fillMaxSize()</span><br><span class="line">                .padding(padding),</span><br><span class="line">            contentAlignment = Alignment.Center</span><br><span class="line">        ) &#123;</span><br><span class="line">            Text(<span class="string">&quot;主页界面&quot;</span>)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    BackHandler(enabled = scaffoldState.drawerState.isOpen) &#123;</span><br><span class="line">        scope.launch &#123;</span><br><span class="line">            scaffoldState.drawerState.close()</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://markdown-1305107759.cos.ap-guangzhou.myqcloud.com/a7dc6de338d10ca9c2f3a0a7b665f965.png" alt="在这里插入图片描述"></p>
<p>让 <code>floatingActionButton</code> 以 <code>Docked</code> 形式嵌入到底部 <code>bottomBar</code> 的中间：</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Composable</span></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">ScaffoldExample3</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="keyword">val</span> scaffoldState = rememberScaffoldState()</span><br><span class="line">    <span class="keyword">val</span> scope = rememberCoroutineScope()</span><br><span class="line"></span><br><span class="line">    Scaffold(</span><br><span class="line">        topBar = &#123;</span><br><span class="line">            TopAppBar(</span><br><span class="line">                title = &#123; Text(<span class="string">&quot;首页&quot;</span>, color = MaterialTheme.colors.onPrimary) &#125;,</span><br><span class="line">            )</span><br><span class="line">        &#125;,</span><br><span class="line">        bottomBar = &#123;</span><br><span class="line">            BottomAppBar(cutoutShape = CircleShape) &#123;</span><br><span class="line">                Row(</span><br><span class="line">                    horizontalArrangement = Arrangement.SpaceAround,</span><br><span class="line">                    modifier = Modifier.fillMaxWidth()</span><br><span class="line">                ) &#123;</span><br><span class="line">                    Text(<span class="string">&quot;Android&quot;</span>, color = MaterialTheme.colors.onPrimary)</span><br><span class="line">                    Text(<span class="string">&quot;Compose&quot;</span>, color = MaterialTheme.colors.onPrimary)</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        drawerContent = &#123;</span><br><span class="line">            Text(<span class="string">&quot;Hello&quot;</span>)</span><br><span class="line">        &#125;,</span><br><span class="line">        scaffoldState = scaffoldState,</span><br><span class="line">        floatingActionButton = &#123;</span><br><span class="line">            ExtendedFloatingActionButton(</span><br><span class="line"><span class="comment">//                icon = &#123; Icon(Icons.Default.Add, null) &#125;,</span></span><br><span class="line">                text = &#123; Text(<span class="string">&quot;Add&quot;</span>) &#125;,</span><br><span class="line">                onClick = &#123;</span><br><span class="line">                      scope.launch &#123;</span><br><span class="line">                          scaffoldState.snackbarHostState.showSnackbar(<span class="string">&quot;添加成功&quot;</span>, actionLabel = <span class="string">&quot;Done&quot;</span>)</span><br><span class="line">                      &#125;</span><br><span class="line">                &#125;,</span><br><span class="line">                shape = CircleShape, <span class="comment">// RoundedCornerShape(15),</span></span><br><span class="line">                modifier = Modifier.size(<span class="number">80.</span>dp),</span><br><span class="line">                backgroundColor = Color.Green</span><br><span class="line">            )</span><br><span class="line">        &#125;,</span><br><span class="line">        floatingActionButtonPosition = FabPosition.Center,</span><br><span class="line">        isFloatingActionButtonDocked = <span class="literal">true</span></span><br><span class="line">    ) &#123; padding -&gt;</span><br><span class="line">        Box(</span><br><span class="line">            modifier = Modifier</span><br><span class="line">                .fillMaxSize()</span><br><span class="line">                .padding(padding),</span><br><span class="line">            contentAlignment = Alignment.Center</span><br><span class="line">        ) &#123;</span><br><span class="line">            Text(<span class="string">&quot;主页界面&quot;</span>)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://markdown-1305107759.cos.ap-guangzhou.myqcloud.com/617074e225ab27a01538cc1b6863770d.gif" alt="在这里插入图片描述"></p>
<p>改变 <code>floatingActionButton</code> 嵌入底部<code>bottomBar</code>的形状：</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Composable</span></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">ScaffoldExample2</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="keyword">val</span> scaffoldState = rememberScaffoldState()</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Consider negative values to mean &#x27;cut corner&#x27; and positive values to mean &#x27;round corner&#x27;</span></span><br><span class="line">    <span class="keyword">val</span> sharpEdgePercent = -<span class="number">50f</span></span><br><span class="line">    <span class="keyword">val</span> roundEdgePercent = <span class="number">45f</span></span><br><span class="line">    <span class="comment">// Start with sharp edges</span></span><br><span class="line">    <span class="keyword">val</span> animatedProgress = remember &#123; Animatable(sharpEdgePercent) &#125;</span><br><span class="line">    <span class="comment">// Create a coroutineScope for the animation</span></span><br><span class="line">    <span class="keyword">val</span> coroutineScope = rememberCoroutineScope()</span><br><span class="line">    <span class="comment">// animation value to animate shape</span></span><br><span class="line">    <span class="keyword">val</span> progress = animatedProgress.value.roundToInt()</span><br><span class="line"></span><br><span class="line">    <span class="comment">// When progress is 0, there is no modification to the edges so we are just drawing a rectangle.</span></span><br><span class="line">    <span class="comment">// This allows for a smooth transition between cut corners and round corners.</span></span><br><span class="line">    <span class="keyword">val</span> fabShape = <span class="keyword">if</span> (progress &lt; <span class="number">0</span>) &#123;</span><br><span class="line">        CutCornerShape(abs(progress))</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (progress == roundEdgePercent.toInt()) &#123;</span><br><span class="line">        CircleShape</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        RoundedCornerShape(progress)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// lambda to call to trigger shape animation</span></span><br><span class="line">    <span class="keyword">val</span> changeShape: () -&gt; <span class="built_in">Unit</span> = &#123;</span><br><span class="line">        <span class="keyword">val</span> target = animatedProgress.targetValue</span><br><span class="line">        <span class="keyword">val</span> nextTarget = <span class="keyword">if</span> (target == roundEdgePercent) sharpEdgePercent <span class="keyword">else</span> roundEdgePercent</span><br><span class="line">        coroutineScope.launch &#123;</span><br><span class="line">            animatedProgress.animateTo(</span><br><span class="line">                targetValue = nextTarget,</span><br><span class="line">                animationSpec = TweenSpec(durationMillis = <span class="number">600</span>)</span><br><span class="line">            )</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    Scaffold(</span><br><span class="line">        topBar = &#123;</span><br><span class="line">            TopAppBar(</span><br><span class="line">                title = &#123; Text(<span class="string">&quot;首页&quot;</span>, color = MaterialTheme.colors.onPrimary) &#125;,</span><br><span class="line">            )</span><br><span class="line">        &#125;,</span><br><span class="line">        bottomBar = &#123;</span><br><span class="line">            BottomAppBar(cutoutShape = fabShape) &#123;</span><br><span class="line">                Row(</span><br><span class="line">                    horizontalArrangement = Arrangement.SpaceAround,</span><br><span class="line">                    modifier = Modifier.fillMaxWidth()</span><br><span class="line">                ) &#123;</span><br><span class="line">                    Text(<span class="string">&quot;Android&quot;</span>, color = MaterialTheme.colors.onPrimary)</span><br><span class="line">                    Text(<span class="string">&quot;Compose&quot;</span>, color = MaterialTheme.colors.onPrimary)</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        drawerContent = &#123;</span><br><span class="line">            Text(<span class="string">&quot;Hello&quot;</span>)</span><br><span class="line">        &#125;,</span><br><span class="line">        scaffoldState = scaffoldState,</span><br><span class="line">        floatingActionButton = &#123;</span><br><span class="line">            ExtendedFloatingActionButton(</span><br><span class="line"><span class="comment">//                icon = &#123; Icon(Icons.Default.Add, null) &#125;,</span></span><br><span class="line">                text = &#123; Text(<span class="string">&quot;ChangeShape&quot;</span>) &#125;,</span><br><span class="line">                onClick = changeShape,</span><br><span class="line">                shape = fabShape,</span><br><span class="line">            )</span><br><span class="line">        &#125;,</span><br><span class="line">        floatingActionButtonPosition = FabPosition.Center,</span><br><span class="line">        isFloatingActionButtonDocked = <span class="literal">true</span></span><br><span class="line">    ) &#123; padding -&gt;</span><br><span class="line">        Box(</span><br><span class="line">            modifier = Modifier</span><br><span class="line">                .fillMaxSize()</span><br><span class="line">                .padding(padding),</span><br><span class="line">            contentAlignment = Alignment.Center</span><br><span class="line">        ) &#123;</span><br><span class="line">            Text(<span class="string">&quot;主页界面&quot;</span>)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://markdown-1305107759.cos.ap-guangzhou.myqcloud.com/8070397d0098d2e1974bdc0d3c64904a.gif" alt="在这里插入图片描述"></p>
<h2 id="BackdropScaffold"><a href="#BackdropScaffold" class="headerlink" title="BackdropScaffold"></a>BackdropScaffold</h2><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@OptIn(ExperimentalMaterialApi::class)</span></span><br><span class="line"><span class="meta">@Composable</span></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">BackdropScaffoldExample</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="keyword">val</span> scope = rememberCoroutineScope()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">val</span> scaffoldState = rememberBackdropScaffoldState(BackdropValue.Concealed)</span><br><span class="line">    LaunchedEffect(scaffoldState) &#123;</span><br><span class="line">        scaffoldState.reveal()</span><br><span class="line">    &#125;</span><br><span class="line">    BackdropScaffold(</span><br><span class="line">        scaffoldState = scaffoldState,</span><br><span class="line">        appBar = &#123;</span><br><span class="line">            TopAppBar(</span><br><span class="line">                title = &#123; Text(<span class="string">&quot;Backdrop scaffold&quot;</span>) &#125;,</span><br><span class="line">                navigationIcon = &#123;</span><br><span class="line">                    <span class="keyword">if</span> (scaffoldState.isConcealed) &#123;</span><br><span class="line">                        IconButton(onClick = &#123; scope.launch &#123; scaffoldState.reveal() &#125; &#125;) &#123;</span><br><span class="line">                            Icon(Icons.Default.Menu, contentDescription = <span class="string">&quot;Localized description&quot;</span>)</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                        IconButton(onClick = &#123; scope.launch &#123; scaffoldState.conceal() &#125; &#125;) &#123;</span><br><span class="line">                            Icon(Icons.Default.Close, contentDescription = <span class="string">&quot;Localized description&quot;</span>)</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;,</span><br><span class="line">                actions = &#123;</span><br><span class="line">                    <span class="keyword">var</span> clickCount <span class="keyword">by</span> remember &#123; mutableStateOf(<span class="number">0</span>) &#125;</span><br><span class="line">                    IconButton(</span><br><span class="line">                        onClick = &#123;</span><br><span class="line">                            <span class="comment">// show snackbar as a suspend function</span></span><br><span class="line">                            scope.launch &#123;</span><br><span class="line">                                scaffoldState.snackbarHostState</span><br><span class="line">                                    .showSnackbar(<span class="string">&quot;Snackbar #<span class="subst">$&#123;++clickCount&#125;</span>&quot;</span>)</span><br><span class="line">                            &#125;</span><br><span class="line">                        &#125;</span><br><span class="line">                    ) &#123;</span><br><span class="line">                        Icon(Icons.Default.Favorite, contentDescription = <span class="string">&quot;Localized description&quot;</span>)</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;,</span><br><span class="line">                elevation = <span class="number">0.</span>dp,</span><br><span class="line">                backgroundColor = Color.Transparent</span><br><span class="line">            )</span><br><span class="line">        &#125;,</span><br><span class="line">        backLayerContent = &#123;</span><br><span class="line">            LazyColumn &#123;</span><br><span class="line">                items(<span class="number">15</span>) &#123;</span><br><span class="line">                    ListItem(</span><br><span class="line">                        Modifier.clickable &#123; scope.launch &#123; scaffoldState.conceal() &#125; &#125;,</span><br><span class="line">                        text = &#123; Text(<span class="string">&quot;Select <span class="variable">$it</span>&quot;</span>) &#125;</span><br><span class="line">                    )</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        frontLayerContent = &#123;</span><br><span class="line">            LazyColumn &#123;</span><br><span class="line">                items(<span class="number">50</span>) &#123;</span><br><span class="line">                    ListItem(</span><br><span class="line">                        text = &#123; Text(<span class="string">&quot;Item <span class="variable">$it</span>&quot;</span>) &#125;,</span><br><span class="line">                        icon = &#123;</span><br><span class="line">                            Icon(Icons.Default.Favorite, <span class="string">&quot;Localized description&quot;</span>)</span><br><span class="line">                        &#125;</span><br><span class="line">                    )</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    )</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://markdown-1305107759.cos.ap-guangzhou.myqcloud.com/5206865d12683f4384f188f9b8076c07.gif" alt="在这里插入图片描述"></p>
<h2 id="BottomSheetScaffold"><a href="#BottomSheetScaffold" class="headerlink" title="BottomSheetScaffold"></a>BottomSheetScaffold</h2><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@OptIn(ExperimentalMaterialApi::class)</span></span><br><span class="line"><span class="meta">@Composable</span></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">BottomSheetScaffoldExample</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="keyword">val</span> scope = rememberCoroutineScope()</span><br><span class="line">    <span class="keyword">val</span> scaffoldState = rememberBottomSheetScaffoldState()</span><br><span class="line">    BottomSheetScaffold(</span><br><span class="line">        sheetContent = &#123;</span><br><span class="line">           Column(Modifier.background(Color.Magenta)) &#123;</span><br><span class="line">               Box(</span><br><span class="line">                   Modifier</span><br><span class="line">                       .fillMaxWidth()</span><br><span class="line">                       .height(<span class="number">128.</span>dp),</span><br><span class="line">                   contentAlignment = Alignment.Center</span><br><span class="line">               ) &#123;</span><br><span class="line">                   Text(<span class="string">&quot;Swipe up to expand sheet&quot;</span>)</span><br><span class="line">               &#125;</span><br><span class="line">               Column(</span><br><span class="line">                   Modifier</span><br><span class="line">                       .fillMaxWidth()</span><br><span class="line">                       .padding(<span class="number">64.</span>dp),</span><br><span class="line">                   horizontalAlignment = Alignment.CenterHorizontally</span><br><span class="line">               ) &#123;</span><br><span class="line">                   Text(<span class="string">&quot;Sheet content&quot;</span>)</span><br><span class="line">                   Spacer(Modifier.height(<span class="number">20.</span>dp))</span><br><span class="line">                   Button(</span><br><span class="line">                       onClick = &#123;</span><br><span class="line">                           scope.launch &#123; scaffoldState.bottomSheetState.collapse() &#125;</span><br><span class="line">                       &#125;</span><br><span class="line">                   ) &#123;</span><br><span class="line">                       Text(<span class="string">&quot;Click to collapse sheet&quot;</span>)</span><br><span class="line">                   &#125;</span><br><span class="line">               &#125;</span><br><span class="line">           &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        scaffoldState = scaffoldState,</span><br><span class="line">        topBar = &#123;</span><br><span class="line">            TopAppBar(</span><br><span class="line">                title = &#123; Text(<span class="string">&quot;Bottom sheet scaffold&quot;</span>) &#125;,</span><br><span class="line">                navigationIcon = &#123;</span><br><span class="line">                    IconButton(onClick = &#123; scope.launch &#123; scaffoldState.drawerState.<span class="keyword">open</span>() &#125; &#125;) &#123;</span><br><span class="line">                        Icon(Icons.Default.Menu, contentDescription = <span class="string">&quot;Localized description&quot;</span>)</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            )</span><br><span class="line">        &#125;,</span><br><span class="line">        floatingActionButton = &#123;</span><br><span class="line">            <span class="keyword">var</span> clickCount <span class="keyword">by</span> remember &#123; mutableStateOf(<span class="number">0</span>) &#125;</span><br><span class="line">            FloatingActionButton(</span><br><span class="line">                onClick = &#123;</span><br><span class="line">                    <span class="comment">// show snackbar as a suspend function</span></span><br><span class="line">                    scope.launch &#123;</span><br><span class="line">                        scaffoldState.snackbarHostState.showSnackbar(<span class="string">&quot;Snackbar #<span class="subst">$&#123;++clickCount&#125;</span>&quot;</span>)</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            ) &#123;</span><br><span class="line">                Icon(Icons.Default.Favorite, contentDescription = <span class="string">&quot;Localized description&quot;</span>)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        floatingActionButtonPosition = FabPosition.End,</span><br><span class="line">        sheetPeekHeight = <span class="number">128.</span>dp,</span><br><span class="line">        drawerContent = &#123;</span><br><span class="line">            Column(</span><br><span class="line">                Modifier</span><br><span class="line">                    .fillMaxWidth()</span><br><span class="line">                    .padding(<span class="number">16.</span>dp),</span><br><span class="line">                horizontalAlignment = Alignment.CenterHorizontally</span><br><span class="line">            ) &#123;</span><br><span class="line">                Text(<span class="string">&quot;Drawer content&quot;</span>)</span><br><span class="line">                Spacer(Modifier.height(<span class="number">20.</span>dp))</span><br><span class="line">                Button(onClick = &#123; scope.launch &#123; scaffoldState.drawerState.close() &#125; &#125;) &#123;</span><br><span class="line">                    Text(<span class="string">&quot;Click to close drawer&quot;</span>)</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    ) &#123; innerPadding -&gt;</span><br><span class="line">        LazyColumn(contentPadding = innerPadding) &#123;</span><br><span class="line">            items(<span class="number">100</span>) &#123;</span><br><span class="line">                Box(</span><br><span class="line">                    Modifier</span><br><span class="line">                        .fillMaxWidth()</span><br><span class="line">                        .height(<span class="number">50.</span>dp)</span><br><span class="line">                )</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://markdown-1305107759.cos.ap-guangzhou.myqcloud.com/e8d7b6641aacad02dd62a04d100527fa.gif" alt="在这里插入图片描述"></p>
<h2 id="TabRow"><a href="#TabRow" class="headerlink" title="TabRow"></a>TabRow</h2><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Composable</span></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">TabRowExample</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="keyword">var</span> state <span class="keyword">by</span> remember &#123; mutableStateOf(<span class="number">0</span>) &#125;</span><br><span class="line">    <span class="keyword">val</span> titles = listOf(<span class="string">&quot;TAB 1&quot;</span>, <span class="string">&quot;TAB 2&quot;</span>, <span class="string">&quot;TAB 3 WITH LOTS OF TEXT&quot;</span>)</span><br><span class="line">    Column &#123;</span><br><span class="line">        TabRow(selectedTabIndex = state) &#123;</span><br><span class="line">            titles.forEachIndexed &#123; index, title -&gt;</span><br><span class="line">                Tab(</span><br><span class="line">                    text = &#123; Text(title) &#125;,</span><br><span class="line">                    selected = state == index,</span><br><span class="line">                    onClick = &#123; state = index &#125;</span><br><span class="line">                )</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        Text(</span><br><span class="line">            modifier = Modifier.align(Alignment.CenterHorizontally),</span><br><span class="line">            text = <span class="string">&quot;Text tab <span class="subst">$&#123;state + <span class="number">1</span>&#125;</span> selected&quot;</span>,</span><br><span class="line">            style = MaterialTheme.typography.titleLarge</span><br><span class="line">        )</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://markdown-1305107759.cos.ap-guangzhou.myqcloud.com/fb4943cd929f452c5895a3a640cdf9ce.gif" alt="在这里插入图片描述"></p>
<h2 id="ScrollableTabRow"><a href="#ScrollableTabRow" class="headerlink" title="ScrollableTabRow"></a>ScrollableTabRow</h2><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Composable</span></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">ScrollableTabRowExample</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="keyword">var</span> state <span class="keyword">by</span> remember &#123; mutableStateOf(<span class="number">0</span>) &#125;</span><br><span class="line">    <span class="keyword">val</span> titles = listOf(<span class="string">&quot;TAB 1&quot;</span>, <span class="string">&quot;TAB 2&quot;</span>, <span class="string">&quot;TAB 3&quot;</span>, <span class="string">&quot;TAB 4&quot;</span>, <span class="string">&quot;TAB 5&quot;</span>, <span class="string">&quot;TAB 6&quot;</span>, <span class="string">&quot;TAB 7&quot;</span>, <span class="string">&quot;TAB 8&quot;</span>, <span class="string">&quot;TAB 9&quot;</span>)</span><br><span class="line">    Column &#123;</span><br><span class="line">        ScrollableTabRow(selectedTabIndex = state) &#123;</span><br><span class="line">            titles.forEachIndexed &#123; index, title -&gt;</span><br><span class="line">                Tab(</span><br><span class="line">                    text = &#123; Text(title) &#125;,</span><br><span class="line">                    selected = state == index,</span><br><span class="line">                    onClick = &#123; state = index &#125;</span><br><span class="line">                )</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        Text(</span><br><span class="line">            modifier = Modifier.align(Alignment.CenterHorizontally),</span><br><span class="line">            text = <span class="string">&quot;Text tab <span class="subst">$&#123;state + <span class="number">1</span>&#125;</span> selected&quot;</span>,</span><br><span class="line">            style = MaterialTheme.typography.titleLarge</span><br><span class="line">        )</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://markdown-1305107759.cos.ap-guangzhou.myqcloud.com/a94d1328fedc99223eb21667d83a913d.gif" alt="在这里插入图片描述"></p>
<h2 id="自定义-TabRow-的-Tab-和-Indicator"><a href="#自定义-TabRow-的-Tab-和-Indicator" class="headerlink" title="自定义 TabRow 的 Tab 和 Indicator"></a>自定义 TabRow 的 Tab 和 Indicator</h2><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">CustomTabRowExample</span><span class="params">(withAnimatedIndicator : <span class="type">Boolean</span> = <span class="literal">false</span>)</span></span> &#123;</span><br><span class="line">    <span class="keyword">var</span> state <span class="keyword">by</span> remember &#123; mutableStateOf(<span class="number">0</span>) &#125;</span><br><span class="line">    <span class="keyword">val</span> titles = listOf(<span class="string">&quot;TAB 1&quot;</span>, <span class="string">&quot;TAB 2&quot;</span>, <span class="string">&quot;TAB 3&quot;</span>)</span><br><span class="line">    <span class="comment">// 复用默认的偏移动画modifier，但使用我们自己的指示器</span></span><br><span class="line">    <span class="keyword">val</span> indicator = <span class="meta">@Composable</span> &#123; tabPositions: List&lt;TabPosition&gt; -&gt;</span><br><span class="line">        <span class="keyword">if</span> (withAnimatedIndicator) &#123;</span><br><span class="line">            FancyAnimatedIndicator(tabPositions = tabPositions, selectedTabIndex = state)</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            FancyIndicator(Color.Blue, Modifier.tabIndicatorOffset(tabPositions[state]))</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    Column &#123;</span><br><span class="line">        TabRow(selectedTabIndex = state, indicator = indicator) &#123;</span><br><span class="line">            titles.forEachIndexed &#123; index, title -&gt;</span><br><span class="line">                FancyTab(title = title, onClick = &#123; state = index &#125;, selected = (index == state))</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        Text(</span><br><span class="line">            modifier = Modifier.align(Alignment.CenterHorizontally),</span><br><span class="line">            text = <span class="string">&quot;Fancy tab <span class="subst">$&#123;state + <span class="number">1</span>&#125;</span> selected&quot;</span>,</span><br><span class="line">            style = MaterialTheme.typography.titleLarge</span><br><span class="line">        )</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>其中 <code>FancyAnimatedIndicator</code> 和 <code>FancyIndicator</code> 定义如下：</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Composable</span></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">FancyAnimatedIndicator</span><span class="params">(tabPositions: <span class="type">List</span>&lt;<span class="type">TabPosition</span>&gt;, selectedTabIndex: <span class="type">Int</span>)</span></span> &#123;</span><br><span class="line">    <span class="keyword">val</span> colors = listOf(Color.Blue, Color.Red, Color.Magenta)</span><br><span class="line">    <span class="keyword">val</span> transition = updateTransition(selectedTabIndex, label = <span class="string">&quot;&quot;</span>)</span><br><span class="line">    <span class="keyword">val</span> indicatorStart <span class="keyword">by</span> transition.animateDp(</span><br><span class="line">        transitionSpec = &#123;</span><br><span class="line">            <span class="comment">// 这里处理方向性，如果我们向右移动，我们希望指示器的右侧移动得更快，如果我们向左移动，我们想要左侧移动得更快。</span></span><br><span class="line">            <span class="keyword">if</span> (initialState &lt; targetState) &#123;</span><br><span class="line">                spring(dampingRatio = <span class="number">1f</span>, stiffness = <span class="number">50f</span>)</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                spring(dampingRatio = <span class="number">1f</span>, stiffness = <span class="number">1000f</span>)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;, label = <span class="string">&quot;&quot;</span></span><br><span class="line">    ) &#123;</span><br><span class="line">        tabPositions[it].left</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">val</span> indicatorEnd <span class="keyword">by</span> transition.animateDp(</span><br><span class="line">        transitionSpec = &#123;</span><br><span class="line">            <span class="comment">// 这里处理方向性，如果我们向右移动，我们希望指示器的右侧移动得更快，如果我们向左移动，我们想要左侧移动得更快。</span></span><br><span class="line">            <span class="keyword">if</span> (initialState &lt; targetState) &#123;</span><br><span class="line">                spring(dampingRatio = <span class="number">1f</span>, stiffness = <span class="number">1000f</span>)</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                spring(dampingRatio = <span class="number">1f</span>, stiffness = <span class="number">50f</span>)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;, label = <span class="string">&quot;&quot;</span></span><br><span class="line">    ) &#123;</span><br><span class="line">        tabPositions[it].right</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">val</span> indicatorColor <span class="keyword">by</span> transition.animateColor(label = <span class="string">&quot;&quot;</span>) &#123;</span><br><span class="line">        colors[it % colors.size]</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    FancyIndicator(</span><br><span class="line">        indicatorColor, <span class="comment">// 将当前颜色传递给指示器</span></span><br><span class="line">        modifier = Modifier</span><br><span class="line">            .fillMaxSize() <span class="comment">// 填满整个TabRow，并将指示器放在起始处</span></span><br><span class="line">            .wrapContentSize(align = Alignment.BottomStart)</span><br><span class="line">            .offset(x = indicatorStart) <span class="comment">// 从起点开始应用偏移量，以便将指示器正确定位在选项卡周围</span></span><br><span class="line">            .width(indicatorEnd - indicatorStart) <span class="comment">// 当我们在选项卡之间移动时，使指示器的宽度与动画宽度一致</span></span><br><span class="line">    )</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">@Composable</span></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">FancyIndicator</span><span class="params">(color : <span class="type">Color</span>, modifier : <span class="type">Modifier</span>)</span></span> &#123;</span><br><span class="line">    <span class="comment">// 在Tab周围绘制一个带边框的圆角矩形，边框外层边缘带有5.dp的padding, 边框颜色通过参数[color]传入</span></span><br><span class="line">    Box(modifier.padding(<span class="number">5.</span>dp).fillMaxSize()</span><br><span class="line">            .border(BorderStroke(<span class="number">2.</span>dp, color), RoundedCornerShape(<span class="number">5.</span>dp)))</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>FancyTab</code>定义如下：</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Composable</span></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">FancyTab</span><span class="params">(selected: <span class="type">Boolean</span>, onClick: () -&gt; <span class="type">Unit</span>, title: <span class="type">String</span>, )</span></span> &#123;</span><br><span class="line">    Tab(selected, onClick) &#123;</span><br><span class="line">        Column(</span><br><span class="line">            Modifier.padding(<span class="number">10.</span>dp).height(<span class="number">50.</span>dp).fillMaxWidth(),</span><br><span class="line">            verticalArrangement = Arrangement.SpaceBetween</span><br><span class="line">        ) &#123;</span><br><span class="line">            Text(</span><br><span class="line">                text = title,</span><br><span class="line">                style = MaterialTheme.typography.bodyMedium,</span><br><span class="line">                modifier = Modifier.align(Alignment.CenterHorizontally)</span><br><span class="line">            )</span><br><span class="line">            Box(</span><br><span class="line">                Modifier.height(<span class="number">5.</span>dp).fillMaxWidth().align(Alignment.CenterHorizontally)</span><br><span class="line">                    .background(color = <span class="keyword">if</span> (selected) Color.Red <span class="keyword">else</span> Color.White)</span><br><span class="line">            )</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>带动画效果：<br><img src="https://markdown-1305107759.cos.ap-guangzhou.myqcloud.com/ca5dad7c3a2c025b302a3b0c8049a83f.gif" alt="在这里插入图片描述"></p>
<p>不带动画效果：</p>
<p><img src="https://markdown-1305107759.cos.ap-guangzhou.myqcloud.com/46cc1dd95efb29b697055d13c7b8abcf.gif" alt="在这里插入图片描述"></p>
<h2 id="TopAppBar"><a href="#TopAppBar" class="headerlink" title="TopAppBar"></a>TopAppBar</h2><p><code>TopAppBar</code> 是Material3包中的，一般搭配<code>Scaffold</code>脚手架使用</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@OptIn(ExperimentalMaterial3Api::class)</span></span><br><span class="line"><span class="meta">@Preview</span></span><br><span class="line"><span class="meta">@Composable</span></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">SimpleTopAppBar</span><span class="params">()</span></span> &#123;</span><br><span class="line">    Scaffold(</span><br><span class="line">        topBar = &#123;</span><br><span class="line">            TopAppBar(</span><br><span class="line">                title = &#123;</span><br><span class="line">                    Text(</span><br><span class="line">                        <span class="string">&quot;Simple TopAppBar&quot;</span>,</span><br><span class="line">                        maxLines = <span class="number">1</span>,</span><br><span class="line">                        overflow = TextOverflow.Ellipsis</span><br><span class="line">                    )</span><br><span class="line">                &#125;,</span><br><span class="line">                navigationIcon = &#123;</span><br><span class="line">                    IconButton(onClick = &#123; <span class="comment">/* doSomething() */</span> &#125;) &#123;</span><br><span class="line">                        Icon(</span><br><span class="line">                            imageVector = Icons.Filled.Menu,</span><br><span class="line">                            contentDescription = <span class="string">&quot;Localized description&quot;</span></span><br><span class="line">                        )</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;,</span><br><span class="line">                actions = &#123;</span><br><span class="line">                    IconButton(onClick = &#123; <span class="comment">/* doSomething() */</span> &#125;) &#123;</span><br><span class="line">                        Icon(</span><br><span class="line">                            imageVector = Icons.Filled.Favorite,</span><br><span class="line">                            contentDescription = <span class="string">&quot;Localized description&quot;</span></span><br><span class="line">                        )</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            )</span><br><span class="line">        &#125;,</span><br><span class="line">        content = &#123; innerPadding -&gt;</span><br><span class="line">            LazyColumn(</span><br><span class="line">                contentPadding = innerPadding,</span><br><span class="line">                verticalArrangement = Arrangement.spacedBy(<span class="number">8.</span>dp)</span><br><span class="line">            ) &#123;</span><br><span class="line">                <span class="keyword">val</span> list = (<span class="number">0.</span><span class="number">.75</span>).map &#123; it.toString() &#125;</span><br><span class="line">                items(count = list.size) &#123;</span><br><span class="line">                    Text(</span><br><span class="line">                        text = list[it],</span><br><span class="line">                        style = MaterialTheme.typography.bodyLarge,</span><br><span class="line">                        modifier = Modifier</span><br><span class="line">                            .fillMaxWidth()</span><br><span class="line">                            .padding(horizontal = <span class="number">16.</span>dp)</span><br><span class="line">                    )</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    )</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://markdown-1305107759.cos.ap-guangzhou.myqcloud.com/cc5dbf6aec6cd5cbe28bba4b6b3861ba.png" alt="在这里插入图片描述"></p>
<p><strong>固定顶部栏</strong></p>
<p>通过指定<code>TopAppBar</code>的<code>scrollBehavior</code> 参数为<code>TopAppBarDefaults.pinnedScrollBehavior()</code>实现固定顶部栏效果。滚动内容时，可以动态改变<code>TopAppBar</code>的颜色。</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@OptIn(ExperimentalMaterial3Api::class)</span></span><br><span class="line"><span class="meta">@Preview</span></span><br><span class="line"><span class="meta">@Composable</span></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">PinnedTopAppBar</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="keyword">val</span> scrollBehavior = TopAppBarDefaults.pinnedScrollBehavior()</span><br><span class="line">    <span class="keyword">val</span> topAppBarState = remember&#123; scrollBehavior.state &#125;</span><br><span class="line">    <span class="keyword">val</span> isAppBarCoveredContent = topAppBarState.overlappedFraction &gt; <span class="number">0f</span></span><br><span class="line">    <span class="keyword">val</span> titleAndIconColor = <span class="keyword">if</span> (isAppBarCoveredContent) Color.White <span class="keyword">else</span> Color.Black</span><br><span class="line">    Scaffold(</span><br><span class="line">        modifier = Modifier.nestedScroll(scrollBehavior.nestedScrollConnection),</span><br><span class="line">        topBar = &#123;</span><br><span class="line">            TopAppBar(</span><br><span class="line">                scrollBehavior = scrollBehavior,</span><br><span class="line">                colors = TopAppBarDefaults.topAppBarColors(</span><br><span class="line">                    scrolledContainerColor = MaterialTheme.colorScheme.primary,</span><br><span class="line">                    navigationIconContentColor = titleAndIconColor,</span><br><span class="line">                    titleContentColor = titleAndIconColor,</span><br><span class="line">                    actionIconContentColor = titleAndIconColor,</span><br><span class="line">                ),</span><br><span class="line">                title = &#123;</span><br><span class="line">                    Text(</span><br><span class="line">                        <span class="string">&quot;TopAppBar&quot;</span>,</span><br><span class="line">                        maxLines = <span class="number">1</span>,</span><br><span class="line">                        overflow = TextOverflow.Ellipsis</span><br><span class="line">                    )</span><br><span class="line">                &#125;,</span><br><span class="line">                navigationIcon = &#123;</span><br><span class="line">                    IconButton(onClick = &#123; <span class="comment">/* doSomething() */</span> &#125;) &#123;</span><br><span class="line">                        Icon(</span><br><span class="line">                            imageVector = Icons.Filled.Menu,</span><br><span class="line">                            contentDescription = <span class="string">&quot;Localized description&quot;</span></span><br><span class="line">                        )</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;,</span><br><span class="line">                actions = &#123;</span><br><span class="line">                    <span class="comment">// RowScope here, so these icons will be placed horizontally</span></span><br><span class="line">                    IconButton(onClick = &#123; <span class="comment">/* doSomething() */</span> &#125;) &#123;</span><br><span class="line">                        Icon(</span><br><span class="line">                            imageVector = Icons.Filled.Favorite,</span><br><span class="line">                            contentDescription = <span class="string">&quot;Localized description&quot;</span></span><br><span class="line">                        )</span><br><span class="line">                    &#125;</span><br><span class="line">                    IconButton(onClick = &#123; <span class="comment">/* doSomething() */</span> &#125;) &#123;</span><br><span class="line">                        Icon(</span><br><span class="line">                            imageVector = Icons.Filled.Favorite,</span><br><span class="line">                            contentDescription = <span class="string">&quot;Localized description&quot;</span></span><br><span class="line">                        )</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;,</span><br><span class="line">            )</span><br><span class="line">        &#125;,</span><br><span class="line">        content = &#123; innerPadding -&gt;</span><br><span class="line">            LazyColumn(</span><br><span class="line">                contentPadding = innerPadding,</span><br><span class="line">                verticalArrangement = Arrangement.spacedBy(<span class="number">8.</span>dp)</span><br><span class="line">            ) &#123;</span><br><span class="line">                <span class="keyword">val</span> list = (<span class="number">0.</span><span class="number">.75</span>).map &#123; it.toString() &#125;</span><br><span class="line">                items(count = list.size) &#123;</span><br><span class="line">                    Text(</span><br><span class="line">                        text = list[it],</span><br><span class="line">                        style = MaterialTheme.typography.bodyLarge,</span><br><span class="line">                        modifier = Modifier</span><br><span class="line">                            .fillMaxWidth()</span><br><span class="line">                            .padding(horizontal = <span class="number">16.</span>dp)</span><br><span class="line">                    )</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    )</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://markdown-1305107759.cos.ap-guangzhou.myqcloud.com/43d6deb58ac2801e7daf331da3764ce0.gif" alt="在这里插入图片描述"></p>
<p><strong>折叠顶部栏</strong></p>
<p>通过指定<code>TopAppBar</code>的<code>scrollBehavior</code> 参数为<code>TopAppBarDefaults.enterAlwaysScrollBehavior()</code>实现折叠顶部栏效果</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@OptIn(ExperimentalMaterial3Api::class)</span></span><br><span class="line"><span class="meta">@Preview</span></span><br><span class="line"><span class="meta">@Composable</span></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">EnterAlwaysTopAppBar</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="keyword">val</span> scrollBehavior = TopAppBarDefaults.enterAlwaysScrollBehavior()</span><br><span class="line">    Scaffold(</span><br><span class="line">        modifier = Modifier.nestedScroll(scrollBehavior.nestedScrollConnection),</span><br><span class="line">        topBar = &#123;</span><br><span class="line">            TopAppBar(</span><br><span class="line">                scrollBehavior = scrollBehavior,</span><br><span class="line">                title = &#123;</span><br><span class="line">                    Text(</span><br><span class="line">                        <span class="string">&quot;TopAppBar&quot;</span>,</span><br><span class="line">                        maxLines = <span class="number">1</span>,</span><br><span class="line">                        overflow = TextOverflow.Ellipsis</span><br><span class="line">                    )</span><br><span class="line">                &#125;,</span><br><span class="line">                navigationIcon = &#123;</span><br><span class="line">                    IconButton(onClick = &#123; <span class="comment">/* doSomething() */</span> &#125;) &#123;</span><br><span class="line">                        Icon(</span><br><span class="line">                            imageVector = Icons.Filled.Menu,</span><br><span class="line">                            contentDescription = <span class="string">&quot;Localized description&quot;</span></span><br><span class="line">                        )</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;,</span><br><span class="line">                actions = &#123;</span><br><span class="line">                    IconButton(onClick = &#123; <span class="comment">/* doSomething() */</span> &#125;) &#123;</span><br><span class="line">                        Icon(</span><br><span class="line">                            imageVector = Icons.Filled.Favorite,</span><br><span class="line">                            contentDescription = <span class="string">&quot;Localized description&quot;</span></span><br><span class="line">                        )</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;,</span><br><span class="line">            )</span><br><span class="line">        &#125;,</span><br><span class="line">        content = &#123; innerPadding -&gt;</span><br><span class="line">            LazyColumn(</span><br><span class="line">                contentPadding = innerPadding,</span><br><span class="line">                verticalArrangement = Arrangement.spacedBy(<span class="number">8.</span>dp)</span><br><span class="line">            ) &#123;</span><br><span class="line">                <span class="keyword">val</span> list = (<span class="number">0.</span><span class="number">.75</span>).map &#123; it.toString() &#125;</span><br><span class="line">                items(count = list.size) &#123;</span><br><span class="line">                    Text(</span><br><span class="line">                        text = list[it],</span><br><span class="line">                        style = MaterialTheme.typography.bodyLarge,</span><br><span class="line">                        modifier = Modifier</span><br><span class="line">                            .fillMaxWidth()</span><br><span class="line">                            .padding(horizontal = <span class="number">16.</span>dp)</span><br><span class="line">                    )</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    )</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://markdown-1305107759.cos.ap-guangzhou.myqcloud.com/6422afb41e3eddb65078e4504a340c51.gif" alt="在这里插入图片描述"></p>
<p><code>TopAppBarDefaults</code>中还有其他的<code>scrollBehavior</code> 如 <code>exitUntilCollapsedScrollBehavior()</code>，效果类似，可根据需要选择。</p>
<h2 id="CenterAlignedTopAppBar"><a href="#CenterAlignedTopAppBar" class="headerlink" title="CenterAlignedTopAppBar"></a>CenterAlignedTopAppBar</h2><p>这个与<code>TopAppBar</code> 没太大区别，就是标题居中，但是它不会响应任何滚动事件。</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@OptIn(ExperimentalMaterial3Api::class)</span></span><br><span class="line"><span class="meta">@Preview</span></span><br><span class="line"><span class="meta">@Composable</span></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">SimpleCenterAlignedTopAppBar</span><span class="params">()</span></span> &#123;</span><br><span class="line">    Scaffold(</span><br><span class="line">        topBar = &#123;</span><br><span class="line">            CenterAlignedTopAppBar(</span><br><span class="line">                title = &#123;</span><br><span class="line">                    Text(</span><br><span class="line">                        <span class="string">&quot;Centered TopAppBar&quot;</span>,</span><br><span class="line">                        maxLines = <span class="number">1</span>,</span><br><span class="line">                        overflow = TextOverflow.Ellipsis</span><br><span class="line">                    )</span><br><span class="line">                &#125;,</span><br><span class="line">                navigationIcon = &#123;</span><br><span class="line">                    IconButton(onClick = &#123; <span class="comment">/* doSomething() */</span> &#125;) &#123;</span><br><span class="line">                        Icon(</span><br><span class="line">                            imageVector = Icons.Filled.Menu,</span><br><span class="line">                            contentDescription = <span class="string">&quot;Localized description&quot;</span></span><br><span class="line">                        )</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;,</span><br><span class="line">                actions = &#123;</span><br><span class="line">                    IconButton(onClick = &#123; <span class="comment">/* doSomething() */</span> &#125;) &#123;</span><br><span class="line">                        Icon(</span><br><span class="line">                            imageVector = Icons.Filled.Favorite,</span><br><span class="line">                            contentDescription = <span class="string">&quot;Localized description&quot;</span></span><br><span class="line">                        )</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            )</span><br><span class="line">        &#125;,</span><br><span class="line">        content = &#123; innerPadding -&gt;</span><br><span class="line">            LazyColumn(</span><br><span class="line">                contentPadding = innerPadding,</span><br><span class="line">                verticalArrangement = Arrangement.spacedBy(<span class="number">8.</span>dp)</span><br><span class="line">            ) &#123;</span><br><span class="line">                <span class="keyword">val</span> list = (<span class="number">0.</span><span class="number">.75</span>).map &#123; it.toString() &#125;</span><br><span class="line">                items(count = list.size) &#123;</span><br><span class="line">                    Text(</span><br><span class="line">                        text = list[it],</span><br><span class="line">                        style = MaterialTheme.typography.bodyLarge,</span><br><span class="line">                        modifier = Modifier</span><br><span class="line">                            .fillMaxWidth()</span><br><span class="line">                            .padding(horizontal = <span class="number">16.</span>dp)</span><br><span class="line">                    )</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    )</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://markdown-1305107759.cos.ap-guangzhou.myqcloud.com/2f27ff4571814f85ab99c946ffd4a86b.png" alt="在这里插入图片描述"></p>
<h2 id="MediumTopAppBar"><a href="#MediumTopAppBar" class="headerlink" title="MediumTopAppBar"></a>MediumTopAppBar</h2><p>大一号的<code>TopAppBar</code>，<code>MediumTopAppBar</code>带有一个<code>title</code>槽位，并且默认是展开的状态，可以实现折叠顶部栏时标题收起展开效果。</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@OptIn(ExperimentalMaterial3Api::class)</span></span><br><span class="line"><span class="meta">@Preview</span></span><br><span class="line"><span class="meta">@Composable</span></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">ExitUntilCollapsedMediumTopAppBar</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="keyword">val</span> scrollBehavior = TopAppBarDefaults.exitUntilCollapsedScrollBehavior()</span><br><span class="line">    Scaffold(</span><br><span class="line">        modifier = Modifier.nestedScroll(scrollBehavior.nestedScrollConnection),</span><br><span class="line">        topBar = &#123;</span><br><span class="line">            MediumTopAppBar(</span><br><span class="line">            	scrollBehavior = scrollBehavior,</span><br><span class="line">                title = &#123;</span><br><span class="line">                    Text(</span><br><span class="line">                        <span class="string">&quot;Medium TopAppBar&quot;</span>,</span><br><span class="line">                        maxLines = <span class="number">1</span>,</span><br><span class="line">                        overflow = TextOverflow.Ellipsis</span><br><span class="line">                    )</span><br><span class="line">                &#125;,</span><br><span class="line">                navigationIcon = &#123;</span><br><span class="line">                    IconButton(onClick = &#123; <span class="comment">/* doSomething() */</span> &#125;) &#123;</span><br><span class="line">                        Icon(</span><br><span class="line">                            imageVector = Icons.Filled.Menu,</span><br><span class="line">                            contentDescription = <span class="string">&quot;Localized description&quot;</span></span><br><span class="line">                        )</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;,</span><br><span class="line">                actions = &#123;</span><br><span class="line">                    IconButton(onClick = &#123; <span class="comment">/* doSomething() */</span> &#125;) &#123;</span><br><span class="line">                        Icon(</span><br><span class="line">                            imageVector = Icons.Filled.Favorite,</span><br><span class="line">                            contentDescription = <span class="string">&quot;Localized description&quot;</span></span><br><span class="line">                        )</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;, </span><br><span class="line">            )</span><br><span class="line">        &#125;,</span><br><span class="line">        content = &#123; innerPadding -&gt;</span><br><span class="line">            LazyColumn(</span><br><span class="line">                contentPadding = innerPadding,</span><br><span class="line">                verticalArrangement = Arrangement.spacedBy(<span class="number">8.</span>dp)</span><br><span class="line">            ) &#123;</span><br><span class="line">                <span class="keyword">val</span> list = (<span class="number">0.</span><span class="number">.75</span>).map &#123; it.toString() &#125;</span><br><span class="line">                items(count = list.size) &#123;</span><br><span class="line">                    Text(</span><br><span class="line">                        text = list[it],</span><br><span class="line">                        style = MaterialTheme.typography.bodyLarge,</span><br><span class="line">                        modifier = Modifier</span><br><span class="line">                            .fillMaxWidth()</span><br><span class="line">                            .padding(horizontal = <span class="number">16.</span>dp)</span><br><span class="line">                    )</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    )</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://markdown-1305107759.cos.ap-guangzhou.myqcloud.com/eb7d2bf903daaee1537f3cad5fd1d2d9.gif" alt="在这里插入图片描述"></p>
<h2 id="LargeTopAppBar"><a href="#LargeTopAppBar" class="headerlink" title="LargeTopAppBar"></a>LargeTopAppBar</h2><p>更大一号的<code>TopAppBar</code>，但是<code>LargeTopAppBar</code>的<code>title</code>区域高度是固定的，不能修改，比较适合放两行标题。</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@OptIn(ExperimentalMaterial3Api::class)</span></span><br><span class="line"><span class="meta">@Preview</span></span><br><span class="line"><span class="meta">@Composable</span></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">ExitUntilCollapsedLargeTopAppBar</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="keyword">val</span> scrollBehavior = TopAppBarDefaults.exitUntilCollapsedScrollBehavior()</span><br><span class="line">    <span class="keyword">val</span> isCollapsed = scrollBehavior.state.collapsedFraction == <span class="number">1.0f</span></span><br><span class="line">    <span class="keyword">val</span> alpha = <span class="number">1.0f</span> - scrollBehavior.state.collapsedFraction</span><br><span class="line">    Scaffold(</span><br><span class="line">        modifier = Modifier.nestedScroll(scrollBehavior.nestedScrollConnection),</span><br><span class="line">        topBar = &#123;</span><br><span class="line">            LargeTopAppBar(</span><br><span class="line">                scrollBehavior = scrollBehavior,</span><br><span class="line">                title = &#123;</span><br><span class="line">                    Column &#123;</span><br><span class="line">                        Text(</span><br><span class="line">                            <span class="string">&quot;Large TopAppBar&quot;</span>,</span><br><span class="line">                            maxLines = <span class="number">1</span>,</span><br><span class="line">                            overflow = TextOverflow.Ellipsis,</span><br><span class="line">                        )</span><br><span class="line">                        <span class="keyword">if</span> (!isCollapsed) &#123;</span><br><span class="line">                            Text(</span><br><span class="line">                                <span class="string">&quot;Sub title&quot;</span>,</span><br><span class="line">                                maxLines = <span class="number">1</span>,</span><br><span class="line">                                overflow = TextOverflow.Ellipsis,</span><br><span class="line">                                color = Color.Black.copy(alpha = alpha),</span><br><span class="line">                                fontSize = MaterialTheme.typography.headlineSmall.fontSize * alpha,</span><br><span class="line">                            )</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;,</span><br><span class="line">                navigationIcon = &#123;</span><br><span class="line">                    IconButton(onClick = &#123; <span class="comment">/* doSomething() */</span> &#125;) &#123;</span><br><span class="line">                        Icon(</span><br><span class="line">                            imageVector = Icons.Filled.Menu,</span><br><span class="line">                            contentDescription = <span class="string">&quot;Localized description&quot;</span></span><br><span class="line">                        )</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;,</span><br><span class="line">                actions = &#123;</span><br><span class="line">                    IconButton(onClick = &#123; <span class="comment">/* doSomething() */</span> &#125;) &#123;</span><br><span class="line">                        Icon(</span><br><span class="line">                            imageVector = Icons.Filled.Favorite,</span><br><span class="line">                            contentDescription = <span class="string">&quot;Localized description&quot;</span></span><br><span class="line">                        )</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;,</span><br><span class="line">            )</span><br><span class="line">        &#125;,</span><br><span class="line">        content = &#123; innerPadding -&gt;</span><br><span class="line">            LazyColumn(</span><br><span class="line">                contentPadding = innerPadding,</span><br><span class="line">                verticalArrangement = Arrangement.spacedBy(<span class="number">8.</span>dp)</span><br><span class="line">            ) &#123;</span><br><span class="line">                <span class="keyword">val</span> list = (<span class="number">0.</span><span class="number">.75</span>).map &#123; it.toString() &#125;</span><br><span class="line">                items(count = list.size) &#123;</span><br><span class="line">                    Text(</span><br><span class="line">                        text = list[it],</span><br><span class="line">                        style = MaterialTheme.typography.bodyLarge,</span><br><span class="line">                        modifier = Modifier</span><br><span class="line">                            .fillMaxWidth()</span><br><span class="line">                            .padding(horizontal = <span class="number">16.</span>dp)</span><br><span class="line">                    )</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    )</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://markdown-1305107759.cos.ap-guangzhou.myqcloud.com/c4c22c2a2b3b787d43e69c72ed9e8abf.gif" alt="在这里插入图片描述"></p>
<h2 id="BottomAppBar"><a href="#BottomAppBar" class="headerlink" title="BottomAppBar"></a>BottomAppBar</h2><p><code>BottomAppBar</code> 一般结合 <code>Scaffold</code> 脚手架一起使用，放在 <code>Scaffold</code> 的 <code>bottomBar</code> 槽位上，但是也可以独立使用。</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Preview</span></span><br><span class="line"><span class="meta">@Composable</span></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">SimpleBottomAppBar</span><span class="params">()</span></span> &#123;</span><br><span class="line">    Column(</span><br><span class="line">        verticalArrangement = Arrangement.Center,</span><br><span class="line">        modifier = Modifier.padding(<span class="number">10.</span>dp)</span><br><span class="line">    ) &#123;</span><br><span class="line">        BottomAppBar(</span><br><span class="line">            containerColor = MaterialTheme.colorScheme.primary,</span><br><span class="line">            modifier = Modifier.height(<span class="number">50.</span>dp)</span><br><span class="line">        ) &#123;</span><br><span class="line">            IconButton(onClick = &#123; <span class="comment">/* doSomething() */</span> &#125;) &#123;</span><br><span class="line">                Icon(Icons.Filled.Menu, contentDescription = <span class="string">&quot;Localized description&quot;</span>)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        Spacer(modifier = Modifier.height(<span class="number">10.</span>dp))</span><br><span class="line">        BottomAppBarWithFAB()</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Preview</span></span><br><span class="line"><span class="meta">@Composable</span></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">BottomAppBarWithFAB</span><span class="params">()</span></span> &#123;</span><br><span class="line">    BottomAppBar(</span><br><span class="line">        actions = &#123;</span><br><span class="line">            IconButton(onClick = &#123; <span class="comment">/* doSomething() */</span> &#125;) &#123;</span><br><span class="line">                Icon(Icons.Filled.Check, contentDescription = <span class="string">&quot;Localized description&quot;</span>)</span><br><span class="line">            &#125;</span><br><span class="line">            IconButton(onClick = &#123; <span class="comment">/* doSomething() */</span> &#125;) &#123;</span><br><span class="line">                Icon(</span><br><span class="line">                    Icons.Filled.Edit,</span><br><span class="line">                    contentDescription = <span class="string">&quot;Localized description&quot;</span>,</span><br><span class="line">                )</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        floatingActionButton = &#123;</span><br><span class="line">            FloatingActionButton(</span><br><span class="line">                onClick = &#123; <span class="comment">/* do something */</span> &#125;,</span><br><span class="line">                containerColor = BottomAppBarDefaults.bottomAppBarFabColor,</span><br><span class="line">                elevation = FloatingActionButtonDefaults.bottomAppBarFabElevation()</span><br><span class="line">            ) &#123;</span><br><span class="line">                Icon(Icons.Filled.Add, <span class="string">&quot;Localized description&quot;</span>)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        containerColor = MaterialTheme.colorScheme.primary,</span><br><span class="line">    )</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://markdown-1305107759.cos.ap-guangzhou.myqcloud.com/c67d8c6936179ab91b2250906df1d800.png" alt="在这里插入图片描述"></p>
<h2 id="AlertDialog"><a href="#AlertDialog" class="headerlink" title="AlertDialog"></a>AlertDialog</h2><p>注意下面代码是material1中的<code>AlertDialog</code>，Material1中有两个<code>AlertDialog</code>构造函数，而material3包中只有一个<code>AlertDialog</code>构造函数。</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Composable</span></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">DialogExample</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="keyword">var</span> openDialog <span class="keyword">by</span> remember &#123; mutableStateOf(<span class="literal">false</span>) &#125;</span><br><span class="line">    Column(verticalArrangement = Arrangement.Center, horizontalAlignment = Alignment.CenterHorizontally) &#123;</span><br><span class="line">        Button(onClick = &#123; openDialog = <span class="literal">true</span> &#125;) &#123;</span><br><span class="line">            Text(text = <span class="string">&quot;show AlertDialog&quot;</span>)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (openDialog) &#123;</span><br><span class="line">        <span class="comment">// material3中只有一个AlertDialog，而Material中有两个AlertDialog构造函数</span></span><br><span class="line">        AlertDialog(</span><br><span class="line">            onDismissRequest = &#123; openDialog = <span class="literal">false</span> &#125;, <span class="comment">// 当用户点击对话框以外的地方或者按下系统返回键将会执行的代码</span></span><br><span class="line">            title = &#123;</span><br><span class="line">                Text(</span><br><span class="line">                    text = <span class="string">&quot;开启位置服务&quot;</span>,</span><br><span class="line">                    style = MaterialTheme.typography.h5</span><br><span class="line">                )</span><br><span class="line">            &#125;,</span><br><span class="line">            text = &#123;</span><br><span class="line">                Text(</span><br><span class="line">                    text = <span class="string">&quot;这将意味着，我们会给您提供精准的位置服务，并且您将接受关于您订阅的位置信息&quot;</span>,</span><br><span class="line">                    fontSize = <span class="number">16.</span>sp</span><br><span class="line">                )</span><br><span class="line">            &#125;,</span><br><span class="line">            buttons = &#123;</span><br><span class="line">                Row(</span><br><span class="line">                    modifier = Modifier.padding(all = <span class="number">8.</span>dp),</span><br><span class="line">                    horizontalArrangement = Arrangement.Center</span><br><span class="line">                ) &#123;</span><br><span class="line">                    Button(</span><br><span class="line">                        modifier = Modifier.fillMaxWidth(),</span><br><span class="line">                        onClick = &#123; openDialog = <span class="literal">false</span> &#125;</span><br><span class="line">                    ) &#123;</span><br><span class="line">                        Text(<span class="string">&quot;必须接受！&quot;</span>)</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">        )</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://markdown-1305107759.cos.ap-guangzhou.myqcloud.com/e86ceaa67923b0de396b533ba71232a8.gif" alt="在这里插入图片描述"></p>
<p>下面的代码是使用固定2个按钮槽位的<code>AlertDialog</code>构造函数</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"> <span class="meta">@Composable</span></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">DialogExample</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="keyword">var</span> openDialog <span class="keyword">by</span> remember &#123; mutableStateOf(<span class="literal">false</span>) &#125;</span><br><span class="line">    Column(verticalArrangement = Arrangement.Center, horizontalAlignment = Alignment.CenterHorizontally) &#123;</span><br><span class="line">        Button(onClick = &#123; openDialog = <span class="literal">true</span> &#125;) &#123;</span><br><span class="line">            Text(text = <span class="string">&quot;show AlertDialog&quot;</span>)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (openDialog) &#123;</span><br><span class="line">        AlertDialog(</span><br><span class="line">            onDismissRequest = &#123; openDialog = <span class="literal">false</span> &#125;, <span class="comment">// 当用户点击对话框以外的地方或者按下系统返回键将会执行的代码</span></span><br><span class="line">            title = &#123;</span><br><span class="line">                Text(</span><br><span class="line">                    text = <span class="string">&quot;开启位置服务&quot;</span>,</span><br><span class="line">                    style = MaterialTheme.typography.h5</span><br><span class="line">                )</span><br><span class="line">            &#125;,</span><br><span class="line">            text = &#123;</span><br><span class="line">                Text(</span><br><span class="line">                    text = <span class="string">&quot;这将意味着，我们会给您提供精准的位置服务，并且您将接受关于您订阅的位置信息&quot;</span>,</span><br><span class="line">                    fontSize = <span class="number">16.</span>sp</span><br><span class="line">                )</span><br><span class="line">            &#125;,</span><br><span class="line">            confirmButton = &#123;</span><br><span class="line">                TextButton(</span><br><span class="line">                    onClick = &#123;</span><br><span class="line">                        openDialog = <span class="literal">false</span></span><br><span class="line">                        println(<span class="string">&quot;点击了确认&quot;</span>)</span><br><span class="line">                    &#125;,</span><br><span class="line">                ) &#123;</span><br><span class="line">                    Text(</span><br><span class="line">                        <span class="string">&quot;确认&quot;</span>,</span><br><span class="line">                        style = MaterialTheme.typography.body1</span><br><span class="line">                    )</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;,</span><br><span class="line">            dismissButton = &#123;</span><br><span class="line">                TextButton(</span><br><span class="line">                    onClick = &#123;</span><br><span class="line">                        openDialog = <span class="literal">false</span></span><br><span class="line">                        println(<span class="string">&quot;点击了取消&quot;</span>)</span><br><span class="line">                    &#125;</span><br><span class="line">                ) &#123;</span><br><span class="line">                    Text(</span><br><span class="line">                        <span class="string">&quot;取消&quot;</span>,</span><br><span class="line">                        style = MaterialTheme.typography.body1</span><br><span class="line">                    )</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;,</span><br><span class="line">            shape = RoundedCornerShape(<span class="number">15.</span>dp)</span><br><span class="line">        )</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://markdown-1305107759.cos.ap-guangzhou.myqcloud.com/d67c94c5dde45792545b46d15e8efaf1.gif" alt="在这里插入图片描述"></p>
<p>material3包中的<code>AlertDialog</code>效果跟上面类似，只是颜色略微不一样。（个人感觉material3的颜色设计没有material好）</p>
<h2 id="Dialog"><a href="#Dialog" class="headerlink" title="Dialog"></a>Dialog</h2><p><code>Dialog</code>的参数比较少，相比<code>AlertDialog</code>简单一些，<code>content</code>内容可以自由填充</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Composable</span></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">DialogExample3</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="keyword">var</span> flag <span class="keyword">by</span> remember&#123; mutableStateOf(<span class="literal">false</span>) &#125;</span><br><span class="line">    Box(</span><br><span class="line">        modifier = Modifier.fillMaxSize(),</span><br><span class="line">        contentAlignment = Alignment.Center</span><br><span class="line">    ) &#123;</span><br><span class="line">        Button(onClick = &#123; flag = <span class="literal">true</span> &#125;) &#123;</span><br><span class="line">            Text(<span class="string">&quot;show Dialog&quot;</span>)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (flag) &#123;</span><br><span class="line">        Dialog(onDismissRequest = &#123; flag = <span class="literal">false</span> &#125;) &#123;</span><br><span class="line">            Box(</span><br><span class="line">                modifier = Modifier</span><br><span class="line">                    .height(<span class="number">150.</span>dp).width(<span class="number">300.</span>dp)</span><br><span class="line">                    .background(Color.White),</span><br><span class="line">                contentAlignment = Alignment.Center</span><br><span class="line">            ) &#123;</span><br><span class="line">                Column &#123;</span><br><span class="line">                    LinearProgressIndicator()</span><br><span class="line">                    Text(<span class="string">&quot;加载中 ing...&quot;</span>)</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://markdown-1305107759.cos.ap-guangzhou.myqcloud.com/b69d686d255da45f1761146d2fd2b3dc.gif" alt="在这里插入图片描述"></p>
<p>如果要修改<code>Dialog</code>的宽高只需使用<code>Modifier</code>修改内容区的宽高即可：</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Composable</span></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">DialogExample5</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="keyword">var</span> flag <span class="keyword">by</span> remember&#123; mutableStateOf(<span class="literal">true</span>) &#125;</span><br><span class="line">    <span class="keyword">val</span> width = <span class="number">300.</span>dp</span><br><span class="line">    <span class="keyword">val</span> height = <span class="number">150.</span>dp</span><br><span class="line">    <span class="keyword">if</span> (flag) &#123;</span><br><span class="line">        Dialog(onDismissRequest = &#123; flag = <span class="literal">false</span> &#125;) &#123;</span><br><span class="line">            Box(</span><br><span class="line">                modifier = Modifier</span><br><span class="line">                    .size(width, height)</span><br><span class="line">                    .background(Color.White),</span><br><span class="line">                contentAlignment = Alignment.Center</span><br><span class="line">            ) &#123;</span><br><span class="line">                Text(<span class="string">&quot;宽300dp高150dp的Dialog&quot;</span>)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://markdown-1305107759.cos.ap-guangzhou.myqcloud.com/db56fbb958954f8f42980d8ed17d1f23.png" alt="在这里插入图片描述"></p>
<p><code>Dialog</code> 的一些行为控制可以通过 <code>properties</code> 参数来指定：</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Composable</span></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">DialogExample4</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="keyword">var</span> flag <span class="keyword">by</span> remember&#123; mutableStateOf(<span class="literal">true</span>) &#125;</span><br><span class="line">    <span class="keyword">if</span> (flag) &#123;</span><br><span class="line">        Dialog(</span><br><span class="line">            onDismissRequest = &#123; flag = <span class="literal">false</span> &#125;,</span><br><span class="line">            properties = DialogProperties(</span><br><span class="line">                dismissOnBackPress = <span class="literal">true</span>, <span class="comment">// 是否可以响应back键关闭</span></span><br><span class="line">                dismissOnClickOutside = <span class="literal">true</span>, <span class="comment">// 是否可以点击对话框以外的区域取消</span></span><br><span class="line">                securePolicy = SecureFlagPolicy.Inherit,</span><br><span class="line">                usePlatformDefaultWidth = <span class="literal">false</span> <span class="comment">// 对话框是否需要被限制在平台默认的范围内</span></span><br><span class="line">            )</span><br><span class="line">        ) &#123;</span><br><span class="line">            Box(</span><br><span class="line">                modifier = Modifier</span><br><span class="line">                    .fillMaxSize()</span><br><span class="line">                    .background(Color.Blue),</span><br><span class="line">                contentAlignment = Alignment.Center</span><br><span class="line">            ) &#123;</span><br><span class="line">                Text(<span class="string">&quot;Dialog全屏的效果&quot;</span>)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="DropdownMenu"><a href="#DropdownMenu" class="headerlink" title="DropdownMenu"></a>DropdownMenu</h2><p><code>DropdownMenu</code> 一般是结合 <code>TopAppBar</code> 一起使用，放在<code>Scaffold</code>脚手架中。</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Composable</span></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">ScaffoldWithDropDownMenu</span><span class="params">()</span></span> &#123;</span><br><span class="line">    Scaffold(topBar = &#123; OptionMenu() &#125;) &#123; padding -&gt;</span><br><span class="line">        Box(modifier = Modifier.fillMaxSize().padding(padding),</span><br><span class="line">            contentAlignment = Alignment.Center</span><br><span class="line">        ) &#123;</span><br><span class="line">            Text(<span class="string">&quot;主页界面&quot;</span>)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Composable</span></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">OptionMenu</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">var</span> showMenu <span class="keyword">by</span> remember &#123; mutableStateOf(<span class="literal">false</span>) &#125;</span><br><span class="line">    <span class="keyword">val</span> context = LocalContext.current</span><br><span class="line">    TopAppBar(</span><br><span class="line">        title = &#123; Text(<span class="string">&quot;My AppBar&quot;</span>) &#125;,</span><br><span class="line">        actions = &#123;</span><br><span class="line">            IconButton(onClick = &#123; context.showToast(<span class="string">&quot;Favorite&quot;</span>) &#125;) &#123;</span><br><span class="line">                Icon(Icons.Default.Favorite, <span class="string">&quot;&quot;</span>)</span><br><span class="line">            &#125;</span><br><span class="line">            IconButton(onClick = &#123; showMenu = !showMenu &#125;) &#123;</span><br><span class="line">                Icon(Icons.Default.MoreVert, <span class="string">&quot;&quot;</span>)</span><br><span class="line">            &#125;</span><br><span class="line">            DropdownMenu(</span><br><span class="line">                expanded = showMenu,</span><br><span class="line">                onDismissRequest = &#123; showMenu = <span class="literal">false</span> &#125;,</span><br><span class="line">                properties = PopupProperties(</span><br><span class="line">                    focusable = <span class="literal">true</span>,</span><br><span class="line">                    dismissOnBackPress = <span class="literal">true</span>,</span><br><span class="line">                    dismissOnClickOutside = <span class="literal">true</span>,</span><br><span class="line">                    securePolicy = SecureFlagPolicy.SecureOn,<span class="comment">//设置安全级别，是否可以截屏</span></span><br><span class="line">                )</span><br><span class="line">            ) &#123;</span><br><span class="line">                DropdownMenuItem(onClick = &#123;</span><br><span class="line">                        showMenu = <span class="literal">false</span></span><br><span class="line">                        context.showToast(<span class="string">&quot;Settings&quot;</span>)</span><br><span class="line">                &#125;) &#123;</span><br><span class="line">                    Text(text = <span class="string">&quot;Settings&quot;</span>)</span><br><span class="line">                &#125;</span><br><span class="line">                DropdownMenuItem(onClick = &#123;</span><br><span class="line">                    showMenu = <span class="literal">false</span></span><br><span class="line">                    context.showToast(<span class="string">&quot;Logout&quot;</span>)</span><br><span class="line">                &#125;) &#123;</span><br><span class="line">                    Text(text = <span class="string">&quot;Logout&quot;</span>)</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    )</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://markdown-1305107759.cos.ap-guangzhou.myqcloud.com/4aa71120ddade003a42b1b34c2cf0332.gif" alt="在这里插入图片描述"></p>
<p>如果单独使用<code>DropdownMenu</code>，可能无法得到预期的效果，例如放一个按钮点击时想在按钮下面弹出<code>DropdownMenu</code>：</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Composable</span></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">DropDownMenuExample</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="keyword">var</span> expanded <span class="keyword">by</span> remember &#123; mutableStateOf(<span class="literal">false</span>) &#125;</span><br><span class="line">    Box(</span><br><span class="line">        modifier = Modifier.size(<span class="number">300.</span>dp),</span><br><span class="line">        contentAlignment = Alignment.Center</span><br><span class="line">    ) &#123;</span><br><span class="line">        IconButton(onClick = &#123; expanded = !expanded &#125;) &#123;</span><br><span class="line">            Icon(imageVector = Icons.Default.Add, contentDescription = <span class="literal">null</span>)</span><br><span class="line">        &#125;</span><br><span class="line">        DropdownMenu(</span><br><span class="line">            expanded = expanded,</span><br><span class="line">            onDismissRequest = &#123;expanded = <span class="literal">false</span> &#125;,</span><br><span class="line">            offset = DpOffset(x = <span class="number">10.</span>dp, y = <span class="number">10.</span>dp), </span><br><span class="line">        ) &#123;</span><br><span class="line">            DropdownMenuItem(onClick = &#123; expanded = <span class="literal">false</span> &#125;) &#123; Text(text = <span class="string">&quot;Menu 0&quot;</span>) &#125;</span><br><span class="line">            DropdownMenuItem(onClick = &#123; expanded = <span class="literal">false</span> &#125;) &#123; Text(text = <span class="string">&quot;Menu 1&quot;</span>) &#125;</span><br><span class="line">            DropdownMenuItem(onClick = &#123; expanded = <span class="literal">false</span> &#125;) &#123; Text(text = <span class="string">&quot;Menu 2&quot;</span>) &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://markdown-1305107759.cos.ap-guangzhou.myqcloud.com/5762515a964d1f06c02b35735f0d603f.gif" alt="在这里插入图片描述"></p>
<p>可以看到<code>DropdownMenu</code>没有显示在正确的位置，跟原生的弹出菜单<code>PopupWindow</code>不同，原生<code>PopupWindow</code>控件show的时候有个anchor参数可以指定锚点，而 Compose 中的<code>DropdownMenu</code>没有办法这样做。</p>
<p>这意味着我们要手动修改<code>DropdownMenu</code>的<code>offset</code>参数，获取点击的位置坐标作为偏移量传入<code>DropdownMenu</code>的<code>offset</code>即可。要获取点击的位置信息，可以通过<code>pointerInput</code>修饰符的<code>detectTapGestures</code> API来实现：</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Composable</span></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">PersonItem</span><span class="params">(</span></span></span><br><span class="line"><span class="params"><span class="function">    personName: <span class="type">String</span>,</span></span></span><br><span class="line"><span class="params"><span class="function">    dropdownItems: <span class="type">List</span>&lt;<span class="type">DropDownItem</span>&gt;,</span></span></span><br><span class="line"><span class="params"><span class="function">    modifier: <span class="type">Modifier</span> = Modifier,</span></span></span><br><span class="line"><span class="params"><span class="function">    onItemClick: (<span class="type">DropDownItem</span>) -&gt; <span class="type">Unit</span></span></span></span><br><span class="line"><span class="params"><span class="function">)</span></span> &#123;</span><br><span class="line">    <span class="keyword">var</span> isMenuVisible <span class="keyword">by</span> rememberSaveable &#123; mutableStateOf(<span class="literal">false</span>) &#125;</span><br><span class="line">    <span class="keyword">var</span> pressOffset <span class="keyword">by</span> remember &#123; mutableStateOf(DpOffset.Zero) &#125;</span><br><span class="line">    <span class="keyword">var</span> itemHeight <span class="keyword">by</span> remember &#123; mutableStateOf(<span class="number">0.</span>dp) &#125;</span><br><span class="line">    <span class="keyword">val</span> interactionSource = remember &#123; MutableInteractionSource() &#125;</span><br><span class="line">    <span class="keyword">val</span> density = LocalDensity.current</span><br><span class="line"></span><br><span class="line">    Card(</span><br><span class="line">        elevation = <span class="number">4.</span>dp,</span><br><span class="line">        modifier = modifier.onSizeChanged &#123;</span><br><span class="line">            itemHeight = with(density) &#123; it.height.toDp() &#125; <span class="comment">// 保存item的高度</span></span><br><span class="line">        &#125;</span><br><span class="line">    ) &#123;</span><br><span class="line">        Box(</span><br><span class="line">            modifier = Modifier</span><br><span class="line">                .fillMaxWidth()</span><br><span class="line">                .indication(interactionSource, LocalIndication.current)</span><br><span class="line">                .pointerInput(<span class="literal">true</span>) &#123;</span><br><span class="line">                    detectTapGestures(</span><br><span class="line">                        onLongPress = &#123;</span><br><span class="line">                            isMenuVisible = <span class="literal">true</span></span><br><span class="line">                            pressOffset = DpOffset(it.x.toDp(), it.y.toDp()) <span class="comment">// 获取点击位置</span></span><br><span class="line">                        &#125;,</span><br><span class="line">                        onPress = &#123;</span><br><span class="line">                            <span class="comment">// 实现点击Item时水波纹效果</span></span><br><span class="line">                            <span class="keyword">val</span> press = PressInteraction.Press(it)</span><br><span class="line">                            interactionSource.emit(press)</span><br><span class="line">                            tryAwaitRelease()</span><br><span class="line">                            interactionSource.emit(PressInteraction.Release(press))</span><br><span class="line">                        &#125;</span><br><span class="line">                    )</span><br><span class="line">                &#125;</span><br><span class="line">                .padding(<span class="number">16.</span>dp)</span><br><span class="line">        ) &#123;</span><br><span class="line">            Text(text = personName)</span><br><span class="line">        &#125;</span><br><span class="line">        DropdownMenu(</span><br><span class="line">            expanded = isMenuVisible,</span><br><span class="line">            onDismissRequest = &#123; isMenuVisible = <span class="literal">false</span> &#125;,</span><br><span class="line">            offset = pressOffset.copy(y = pressOffset.y - itemHeight) <span class="comment">// y坐标减去item的高度</span></span><br><span class="line">        ) &#123;</span><br><span class="line">            dropdownItems.forEach &#123;</span><br><span class="line">                DropdownMenuItem(onClick = &#123;</span><br><span class="line">                    onItemClick(it)</span><br><span class="line">                    isMenuVisible = <span class="literal">false</span></span><br><span class="line">                &#125;) &#123;</span><br><span class="line">                    Text(text = it.text)</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">data</span> <span class="keyword">class</span> <span class="title class_">DropDownItem</span>(<span class="keyword">val</span> text: String)</span><br></pre></td></tr></table></figure>

<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Composable</span></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">CustomDropdownMenuExample</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="keyword">val</span> context = LocalContext.current</span><br><span class="line">    LazyColumn(</span><br><span class="line">        modifier = Modifier.fillMaxSize().padding(<span class="number">16.</span>dp),</span><br><span class="line">        verticalArrangement = Arrangement.spacedBy(<span class="number">16.</span>dp)</span><br><span class="line">    ) &#123;</span><br><span class="line">        items(</span><br><span class="line">            listOf(<span class="string">&quot;Philipp&quot;</span>, <span class="string">&quot;Carl&quot;</span>, <span class="string">&quot;Martin&quot;</span>, <span class="string">&quot;Jake&quot;</span>, <span class="string">&quot;Jake&quot;</span>, <span class="string">&quot;Jake&quot;</span>, <span class="string">&quot;Jake&quot;</span>, <span class="string">&quot;Jake&quot;</span>, <span class="string">&quot;Philipp&quot;</span>, <span class="string">&quot;Philipp&quot;</span>)</span><br><span class="line">        ) &#123;</span><br><span class="line">            PersonItem(</span><br><span class="line">                personName = it,</span><br><span class="line">                dropdownItems = listOf(</span><br><span class="line">                    DropDownItem(<span class="string">&quot;Item 1&quot;</span>),</span><br><span class="line">                    DropDownItem(<span class="string">&quot;Item 2&quot;</span>),</span><br><span class="line">                    DropDownItem(<span class="string">&quot;Item 3&quot;</span>),</span><br><span class="line">                ),</span><br><span class="line">                onItemClick = &#123;context.showToast(it.text) &#125;,</span><br><span class="line">                modifier = Modifier.fillMaxWidth()</span><br><span class="line">            )</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125; </span><br></pre></td></tr></table></figure>

<p><img src="https://markdown-1305107759.cos.ap-guangzhou.myqcloud.com/82ca4fabaea4b8961e466c48ccb9800c.gif" alt="在这里插入图片描述"></p>
<h2 id="ContextMenu"><a href="#ContextMenu" class="headerlink" title="ContextMenu"></a>ContextMenu</h2><p>这个在 Jetpack Compose Android 库中没有对应的组件，如果要做就是使用上面的 <code>DropdownMenu</code> 来实现。但是如果是使用 JetBrains 的 <a target="_blank" rel="noopener" href="https://github.com/JetBrains/compose-multiplatform">Compose-Multiplatform</a> 进行多平台开发的话，在桌面端是有对应的 ContextMenu API 支持的，毕竟在桌面端上下文菜单是比较常见的，可以参考官网教程：<a target="_blank" rel="noopener" href="https://github.com/JetBrains/compose-multiplatform/blob/master/tutorials/Context_Menu/README.md">Context Menu in Compose for Desktop</a> 。</p>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>文章作者: </span><span class="post-copyright-info"><a href="https://bravestsnail.github.io">BravestSnail</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>文章链接: </span><span class="post-copyright-info"><a href="https://bravestsnail.github.io/2025/06/04/note/Android/compose/%E5%9F%BA%E7%A1%80%E7%BB%84%E4%BB%B6/">https://bravestsnail.github.io/2025/06/04/note/Android/compose/%E5%9F%BA%E7%A1%80%E7%BB%84%E4%BB%B6/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来源 <a href="https://bravestsnail.github.io" target="_blank">BravestSnail's Blog</a>！</span></div></div><div class="tag_share"><div class="post-share"><div class="social-share" data-image="/images/avatar.png" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><a class="pagination-related" href="/2025/06/04/note/Android/compose/%E4%BB%80%E4%B9%88%E6%98%AF%E5%A3%B0%E6%98%8E%E5%BC%8FUI/" title="什么是声明式UI"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info"><div class="info-1"><div class="info-item-1">上一篇</div><div class="info-item-2">什么是声明式UI</div></div><div class="info-2"><div class="info-item-1">到底什么是声明式UI，声明式可以理解为一种编程思维，只要是基于这种编程思维来使用的，都可以称之为声明式UI框架。 过程式思维拿View来举例，View更多是一种过程式的思维，我们在描述一个View的时候是不会描述它的状态的，或者只会描述它的初始状态。如果后续想要更新View的状态只能获取到View的实例，再通过相应的方法改变它的状态。这就是过程式的思维。 声明式思维声明式思维的工作流程类似于刷新网页。即我们仍然正常地去描述一个控件，但是需要附带上它的状态。然后当有任何状态发生改变时，只需要像刷新网页一样，让整个界面的所有元素都刷新一遍，自然所有状态都得到更新了。事实上，所有的声明式UI框架都会采取优化措施，避免刷新整个界面，而是只更新状态有变的控件。 </div></div></div></a><a class="pagination-related" href="/2025/06/04/note/IO%E6%A8%A1%E5%9E%8B/" title="IO模型"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-right"><div class="info-1"><div class="info-item-1">下一篇</div><div class="info-item-2">IO模型</div></div><div class="info-2"><div class="info-item-1">IO模型的发展历程I&#x2F;O模型指的是程序与输入输出设备之间交互的方式。下面是I&#x2F;O模型的发展历程：  阻塞式I&#x2F;O模型（Blocking I&#x2F;O Model）：在此模型中，当一个I&#x2F;O操作被执行时，进程会阻塞，直到该操作完成为止。这种模型简单易用，但是效率较低，因为进程会一直等待操作完成，期间不能进行其他工作。 非阻塞式I&#x2F;O模型（Non-Blocking I&#x2F;O Model）：在此模型中，当一个I&#x2F;O操作被执行时，进程不会阻塞，而是立即返回，并在后续时间内轮询查看操作是否已经完成。这种模型相对于阻塞式I&#x2F;O模型来说效率更高，但需要轮询查看操作状态，会增加CPU的负担。 I&#x2F;O复用模型（I&#x2F;O Multiplexing...</div></div></div></a></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info text-center"><div class="avatar-img"><img src="/images/avatar.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info-name">BravestSnail</div><div class="author-info-description"></div><div class="site-data"><a href="/archives/"><div class="headline">文章</div><div class="length-num">78</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">20</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">1</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/xxxxxx"><i class="fab fa-github"></i><span>Follow Me</span></a></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">This is my Blog</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#Button"><span class="toc-number">1.</span> <span class="toc-text">Button</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Divider"><span class="toc-number">2.</span> <span class="toc-text">Divider</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Icon"><span class="toc-number">3.</span> <span class="toc-text">Icon</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Image"><span class="toc-number">4.</span> <span class="toc-text">Image</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ProgressIndicator"><span class="toc-number">5.</span> <span class="toc-text">ProgressIndicator</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Slider"><span class="toc-number">6.</span> <span class="toc-text">Slider</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#RangeSlider"><span class="toc-number">7.</span> <span class="toc-text">RangeSlider</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Spacer"><span class="toc-number">8.</span> <span class="toc-text">Spacer</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Switch%E3%80%81Checkbox%E3%80%81RadioButton"><span class="toc-number">9.</span> <span class="toc-text">Switch、Checkbox、RadioButton</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Chip"><span class="toc-number">10.</span> <span class="toc-text">Chip</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#FilterChip"><span class="toc-number">11.</span> <span class="toc-text">FilterChip</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Text"><span class="toc-number">12.</span> <span class="toc-text">Text</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#TextField"><span class="toc-number">13.</span> <span class="toc-text">TextField</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#BasicTextField"><span class="toc-number">14.</span> <span class="toc-text">BasicTextField</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#OutlinedTextField"><span class="toc-number">15.</span> <span class="toc-text">OutlinedTextField</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Card"><span class="toc-number">16.</span> <span class="toc-text">Card</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Box"><span class="toc-number">17.</span> <span class="toc-text">Box</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#BoxWithConstraints"><span class="toc-number">18.</span> <span class="toc-text">BoxWithConstraints</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Surface"><span class="toc-number">19.</span> <span class="toc-text">Surface</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ModalBottomSheetLayout"><span class="toc-number">20.</span> <span class="toc-text">ModalBottomSheetLayout</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Scaffold"><span class="toc-number">21.</span> <span class="toc-text">Scaffold</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#BackdropScaffold"><span class="toc-number">22.</span> <span class="toc-text">BackdropScaffold</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#BottomSheetScaffold"><span class="toc-number">23.</span> <span class="toc-text">BottomSheetScaffold</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#TabRow"><span class="toc-number">24.</span> <span class="toc-text">TabRow</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ScrollableTabRow"><span class="toc-number">25.</span> <span class="toc-text">ScrollableTabRow</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%87%AA%E5%AE%9A%E4%B9%89-TabRow-%E7%9A%84-Tab-%E5%92%8C-Indicator"><span class="toc-number">26.</span> <span class="toc-text">自定义 TabRow 的 Tab 和 Indicator</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#TopAppBar"><span class="toc-number">27.</span> <span class="toc-text">TopAppBar</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#CenterAlignedTopAppBar"><span class="toc-number">28.</span> <span class="toc-text">CenterAlignedTopAppBar</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#MediumTopAppBar"><span class="toc-number">29.</span> <span class="toc-text">MediumTopAppBar</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#LargeTopAppBar"><span class="toc-number">30.</span> <span class="toc-text">LargeTopAppBar</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#BottomAppBar"><span class="toc-number">31.</span> <span class="toc-text">BottomAppBar</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#AlertDialog"><span class="toc-number">32.</span> <span class="toc-text">AlertDialog</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Dialog"><span class="toc-number">33.</span> <span class="toc-text">Dialog</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#DropdownMenu"><span class="toc-number">34.</span> <span class="toc-text">DropdownMenu</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ContextMenu"><span class="toc-number">35.</span> <span class="toc-text">ContextMenu</span></a></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2025/06/04/note/%E4%B8%8A%E4%B8%8B%E6%96%87Context/" title="上下文Context">上下文Context</a><time datetime="2025-06-04T12:46:35.127Z" title="发表于 2025-06-04 20:46:35">2025-06-04</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2025/06/04/note/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/" title="正则表达式">正则表达式</a><time datetime="2025-06-04T12:46:35.127Z" title="发表于 2025-06-04 20:46:35">2025-06-04</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2025/06/04/note/%E6%B3%A8%E8%A7%A3%E5%92%8C%E6%B3%A8%E8%A7%A3%E5%A4%84%E7%90%86%E5%99%A8/" title="注解和注解处理器">注解和注解处理器</a><time datetime="2025-06-04T12:46:35.127Z" title="发表于 2025-06-04 20:46:35">2025-06-04</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2025/06/04/note/%E8%BF%9B%E7%A8%8B%E3%80%81%E7%BA%BF%E7%A8%8B%E3%80%81%E5%8D%8F%E7%A8%8B%E7%9A%84%E5%8C%BA%E5%88%AB/" title="进程、线程、协程的区别">进程、线程、协程的区别</a><time datetime="2025-06-04T12:46:35.127Z" title="发表于 2025-06-04 20:46:35">2025-06-04</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2025/06/04/note/kotlin/Kotlin%E8%B8%A9%E5%9D%91%E8%AE%B0%E5%BD%95/" title="Kotlin踩坑记录">Kotlin踩坑记录</a><time datetime="2025-06-04T12:46:35.127Z" title="发表于 2025-06-04 20:46:35">2025-06-04</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2019 - 2025 By BravestSnail</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo 7.3.0</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly 5.3.5</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="日间和夜间模式切换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><div class="js-pjax"><script>(() => {
  const runMermaid = ele => {
    window.loadMermaid = true
    const theme = document.documentElement.getAttribute('data-theme') === 'dark' ? 'dark' : 'default'

    ele.forEach((item, index) => {
      const mermaidSrc = item.firstElementChild
      const mermaidThemeConfig = `%%{init:{ 'theme':'${theme}'}}%%\n`
      const mermaidID = `mermaid-${index}`
      const mermaidDefinition = mermaidThemeConfig + mermaidSrc.textContent

      const renderFn = mermaid.render(mermaidID, mermaidDefinition)
      const renderMermaid = svg => {
        mermaidSrc.insertAdjacentHTML('afterend', svg)
      }

      // mermaid v9 and v10 compatibility
      typeof renderFn === 'string' ? renderMermaid(renderFn) : renderFn.then(({ svg }) => renderMermaid(svg))
    })
  }

  const codeToMermaid = () => {
    const codeMermaidEle = document.querySelectorAll('pre > code.mermaid')
    if (codeMermaidEle.length === 0) return

    codeMermaidEle.forEach(ele => {
      const preEle = document.createElement('pre')
      preEle.className = 'mermaid-src'
      preEle.hidden = true
      preEle.textContent = ele.textContent
      const newEle = document.createElement('div')
      newEle.className = 'mermaid-wrap'
      newEle.appendChild(preEle)
      ele.parentNode.replaceWith(newEle)
    })
  }

  const loadMermaid = () => {
    if (true) codeToMermaid()
    const $mermaid = document.querySelectorAll('#article-container .mermaid-wrap')
    if ($mermaid.length === 0) return

    const runMermaidFn = () => runMermaid($mermaid)
    btf.addGlobalFn('themeChange', runMermaidFn, 'mermaid')
    window.loadMermaid ? runMermaidFn() : btf.getScript('https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js').then(runMermaidFn)
  }

  btf.addGlobalFn('encrypt', loadMermaid, 'mermaid')
  window.pjax ? loadMermaid() : document.addEventListener('DOMContentLoaded', loadMermaid)
})()</script></div><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>